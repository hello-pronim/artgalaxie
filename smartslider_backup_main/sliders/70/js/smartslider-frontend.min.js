N2Require("SmartSliderBackgroundImages",[],[],function(e,t,i){function s(t){this.device=null,this.slider=t,this.lazyLoad=t.parameters.lazyLoad,this.lazyLoadNeighbor=t.parameters.lazyLoadNeighbor,this.deviceDeferred=e.Deferred(),this.slider.sliderElement.one("SliderDevice",e.proxy(this.onSlideDeviceChangedFirst,this)),this.slider.sliderElement.on("visibleSlidesChanged",e.proxy(this.onVisibleSlidesChanged,this)),this.slider.sliderElement.on("slideCountChanged",e.proxy(this.onVisibleSlidesChanged,this))}return s.prototype.whenWithProgress=function(t){for(var i=0,s=e.Deferred(),n=0;n<t.length;n++)e.when(t[n]).done(function(){s.notify(++i,t.length)});return e.when.apply(e,t).done(function(){s.resolveWith(null,arguments)}),s},s.prototype.getBackgroundImages=function(){for(var e=[],t=0;t<this.slider.realSlides.length;t++)e.push(this.slider.realSlides[t].backgroundImage);return e},s.prototype.onVisibleSlidesChanged=function(){1==this.lazyLoad?this.load=this.preLoadSlides(this.slider.getVisibleSlides(this.slider.currentSlide)):2==this.lazyLoad&&(this.load=this.preLoadSlides(this.slider.getVisibleSlides(this.slider.currentSlide)))},s.prototype.onSlideDeviceChangedFirst=function(t,i){this.onSlideDeviceChanged(t,i),this.deviceDeferred.resolve(),this.slider.sliderElement.on("SliderDevice",e.proxy(this.onSlideDeviceChanged,this)),this.preLoadSlides=this._preLoadSlides,1==this.lazyLoad?(this.preLoadSlides=this.preloadSlidesLazyNeighbor,this.load=this.preLoadSlides(this.slider.getVisibleSlides(this.slider.currentSlide))):2==this.lazyLoad?(e(window).on("load",e.proxy(this.preLoadAll,this)),this.load=this.preLoadSlides(this.slider.getVisibleSlides(this.slider.currentSlide))):this.load=this.whenWithProgress(this.preLoadAll())},s.prototype.onSlideDeviceChanged=function(e,t){this.device=t;for(var i=0;i<this.slider.realSlides.length;i++)this.slider.realSlides[i].backgroundImage&&this.slider.realSlides[i].backgroundImage.updateBackgroundToDevice(t)},s.prototype.preLoadAll=function(){for(var e=[],t=0;t<this.slider.realSlides.length;t++)e.push(this.slider.realSlides[t].preLoad());return e},s.prototype._preLoadSlides=function(t){var i=[];"[object Array]"!==Object.prototype.toString.call(t)&&(t=[t]);for(var s=0;s<t.length;s++)i.push(t[s].preLoad());return e.when.apply(e,i)},s.prototype.preloadSlidesLazyNeighbor=function(t){var i=[this._preLoadSlides(t)];if(this.lazyLoadNeighbor)for(var s=0,n=t[0].previousSlide,r=t[t.length-1].nextSlide;s<this.lazyLoadNeighbor;)i.push(n.preLoad()),n=n.previousSlide,i.push(r.preLoad()),r=r.nextSlide,s++;var o=e.Deferred();if("resolved"!=i[0].state()){var a=setTimeout(e.proxy(function(){this.slider.load.showSpinner("backgroundImage"+t[0].index),a=null},this),50);e.when.apply(e,i).done(e.proxy(function(){a?(clearTimeout(a),a=null):this.slider.load.removeSpinner("backgroundImage"+t[0].index),setTimeout(function(){o.resolve()},100)},this))}else setTimeout(function(){o.resolve()},100);return o},s.prototype.hack=function(){for(var e=0;e<this.slider.realSlides.length;e++)this.slider.realSlides[e].backgroundImage&&this.slider.realSlides[e].backgroundImage.hack()},s}),N2Require("SmartSliderLoad",[],[],function(e,t,i){function s(t,i){this.parameters=e.extend({fade:1,scroll:0},i),this.deferred=e.Deferred(),this.smartSlider=t,this.spinnerKey="fadePlaceholder",this.id=t.sliderElement.attr("id"),this.$window=e(window),this.spinner=e("#"+this.id+"-spinner")}return s.prototype.start=function(){if(this.parameters.scroll){var t=e(window);t.on("scroll."+this.id,e.proxy(this.onScroll,this)),this.onScroll()}else if(this.parameters.fade){this.loadingArea=e("#"+this.id+"-placeholder").eq(0),this.showSpinner("fadePlaceholder");var i=this.spinner.find(".n2-ss-spinner-counter");i.length&&this.smartSlider.backgroundImages.load.progress(e.proxy(function(e,t){i.html(Math.round(e/(t+1)*100)+"%")},this)),this.showSlider()}else this.smartSlider.responsive.ready.done(e.proxy(function(){this._showSlider()},this))},s.prototype.onScroll=function(){this.$window.scrollTop()+this.$window.height()>this.smartSlider.sliderElement.offset().top+100&&(this.$window.off("scroll."+this.id),this.showSlider())},s.prototype.loadLayerImages=function(){var t=e.Deferred();return this.smartSlider.sliderElement.find(".n2-ss-layers-container").n2imagesLoaded().always(function(){t.resolve()}),t},s.prototype.showSlider=function(){e.when(this.smartSlider.responsive.ready,this.smartSlider.backgroundImages.load,this.loadLayerImages()).always(e.proxy(function(){this._showSlider()},this))},s.prototype._showSlider=function(t){this.smartSlider.responsive.isReadyToResize=!0,e.when.apply(e,this.smartSlider.widgetDeferreds).done(e.proxy(function(){this.smartSlider.responsive.invalidateResponsiveState=!0,this.smartSlider.responsive.doResize(),this.smartSlider.mainAnimation&&this.smartSlider.mainAnimation.setToStarterSlide(this.smartSlider.starterSlide),this.smartSlider.starterSlide.setStarterSlide(),this.smartSlider.sliderElement.trigger("BeforeVisible"),this.smartSlider.responsive.alignElement.addClass("n2-ss-slider-align-visible"),this.smartSlider.sliderElement.addClass("n2-ss-loaded").removeClass("n2notransition"),this.removeSpinner("fadePlaceholder"),e("#"+this.id+"-placeholder").remove(),this.loadingArea=this.smartSlider.sliderElement,"function"==typeof t?t(this.deferred):this.deferred.resolve()},this))},s.prototype.loaded=function(e){this.deferred.done(e)},s.prototype.showSpinner=function(e){this.spinnerKey=e,this.spinner.appendTo(this.loadingArea).css("display","")},s.prototype.removeSpinner=function(e){this.spinnerKey==e&&(this.spinner.detach(),this.spinnerKey="")},s}),N2Require("SmartSliderApi",[],[],function(e,t,i){function s(){this.sliders={},this.readys={},this._resetCounters=[]}return s.prototype.makeReady=function(e,t){if(this.sliders[e]=t,"undefined"!=typeof this.readys[e])for(var i=0;i<this.readys[e].length;i++)this.readys[e][i].call(t,t,t.sliderElement)},s.prototype.ready=function(e,t){"undefined"!=typeof this.sliders[e]?t.call(this.sliders[e],this.sliders[e],this.sliders[e].sliderElement):("undefined"==typeof this.readys[e]&&(this.readys[e]=[]),this.readys[e].push(t))},s.prototype.trigger=function(t,i){var s=n2(t),n=i.split(","),r=s.closest(".n2-ss-slide,.n2-ss-static-slide");if(n.length>1){-1==e.inArray(t,this._resetCounters)&&(this._resetCounters.push(t),r.on("layerAnimationSetStart.resetCounter",function(){s.data("eventCounter",0)}));var o=s.data("eventCounter")||0;i=n[o],o++,o>n.length-1&&(o=0),s.data("eventCounter",o)}r.triggerHandler(i)},s.prototype.applyAction=function(e,t){var i=n2(e).closest(".n2-ss-slider").data("ss");i[t].apply(i,Array.prototype.slice.call(arguments,2))},s.prototype.applyActionWithClick=function(){nextend.shouldPreventClick||this.applyAction.apply(this,arguments)},window.n2ss=new s,s}),N2Require("SmartSliderAbstract",[],[],function($,scope,undefined){function SmartSliderAbstract(e,t){this.startedDeferred=$.Deferred(),e instanceof n2&&(e="#"+e.attr("id"));var i=e.substr(1);return window[i]&&window[i]instanceof SmartSliderAbstract?!1:(this.isAdmin=!!t.admin,this.id=parseInt(i.replace("n2-ss-","")),window[i]=this,this.readyDeferred=$.Deferred(),void this.waitForExists(i,t))}return SmartSliderAbstract.prototype.kill=function(){this.killed=!0,$("#"+this.sliderElement.attr("id")+"-placeholder").remove(),this.sliderElement.closest(".n2-ss-align").remove()},SmartSliderAbstract.prototype.waitForExists=function(e,t){var i=$.Deferred(),s=function(){var t=$("#"+e);t.length?i.resolve(t):setTimeout(s,500)};i.done($.proxy(this.onSliderExists,this,e,t)),s()},SmartSliderAbstract.prototype.onSliderExists=function(e,t,i){if("SCRIPT"==i.prop("tagName")){var s=i.data("dependency"),n=i.data("delay"),r=$.proxy(function(){var s=$(i.html().replace(/<_s_c_r_i_p_t/g,"<script").replace(/<_\/_s_c_r_i_p_t/g,"</script"));i.replaceWith(s),this.waitForDimension($("#"+e),t),$(window).triggerHandler("n2Rocket",[this.sliderElement])},this);s&&$("#n2-ss-"+s).length?n2ss.ready(s,$.proxy(function(e){e.ready(r)},this)):n?setTimeout(r,n):r()}else this.waitForDimension(i,t)},SmartSliderAbstract.prototype.waitForDimension=function(e,t){var i=$.Deferred(),s=function(){var t=e.is(":visible");t?i.resolve():setTimeout(s,200)};s(),i.done($.proxy(this.onSliderHasDimension,this,e,t))},SmartSliderAbstract.prototype.onSliderHasDimension=function($sliderElement,parameters){if(this.killed=!1,this.responsive=!1,this.mainAnimationLastChangeTime=0,this.currentSlide=null,this.currentRealSlide=null,this.staticSlide=!1,this.isShuffled=!1,this.slides=[],this.visibleSlides=1,this.sliderElement=$sliderElement.data("ss",this),this.parameters=$.extend({admin:!1,playWhenVisible:1,playWhenVisibleAt:.5,callbacks:"",autoplay:{},blockrightclick:!1,maintainSession:0,align:"normal",controls:{drag:!1,touch:"horizontal",keyboard:!1,scroll:!1,tilt:!1},hardwareAcceleration:!0,layerMode:{playOnce:0,playFirstLayer:1,mode:"skippable",inAnimation:"mainInEnd"},foreverLayerAnimation:!1,parallax:{enabled:0,mobile:0,horizontal:"mouse",vertical:"mouse",origin:"enter"},load:{},mainanimation:{},randomize:{randomize:0,randomizeFirst:0},responsive:{},lazyload:{enabled:0},postBackgroundAnimations:!1,initCallbacks:[],dynamicHeight:0,lightbox:[],lightboxDeviceImages:[],titles:[],descriptions:[],"background.parallax.tablet":0,"background.parallax.mobile":0,allowBGImageAttachmentFixed:1,particlejs:0},parameters),!(this.isAdmin||parameters.responsive.desktop&&parameters.responsive.tablet&&parameters.responsive.mobile)){var md=new MobileDetect(window.navigator.userAgent,801),isTablet=!!md.tablet(),isMobile=!!md.phone();if(!parameters.responsive.mobile&&isMobile||!parameters.responsive.tablet&&isTablet||!parameters.responsive.desktop&&!isTablet&&!isMobile)return void this.kill()}this.firstSlideReady=$.Deferred();try{eval(this.parameters.callbacks)}catch(e){console.error(e)}this.startVisibilityCheck(),n2ss.makeReady(this.id,this),this.widgetDeferreds=[],this.sliderElement.on("addWidget",$.proxy(this.addWidget,this)),this.isAdmin&&(this.changeTo=function(){}),this.load=new scope.SmartSliderLoad(this,this.parameters.load),this.backgroundImages=new scope.SmartSliderBackgroundImages(this),this.__initSlides(),$.when(this.overrideFirstSlide()).done($.proxy(this.onFirstSlideInitialized,this)),navigator.userAgent.match("UCBrowser")&&$("html").addClass("n2-ucbrowser")},SmartSliderAbstract.prototype.overrideFirstSlide=function(){if("undefined"!=typeof window["ss"+this.id]){if("object"==typeof window["ss"+this.id])return window["ss"+this.id].done($.proxy(function(e){null!==e&&this.changeActiveBeforeLoad(e)},this));var e="undefined"!=typeof window["ss"+this.id]?parseInt(window["ss"+this.id]):null;null!==e&&this.changeActiveBeforeLoad(e)}else if(!this.isAdmin&&this.parameters.maintainSession&&"undefined"!=typeof sessionStorage){var t=sessionStorage.getItem("ss-"+this.id);null!==t&&this.changeActiveBeforeLoad(parseInt(t)),this.sliderElement.on("mainAnimationComplete",$.proxy(function(e,t,i,s){sessionStorage.setItem("ss-"+this.id,s)},this))}return!0},SmartSliderAbstract.prototype.changeActiveBeforeLoad=function(e){e>0&&e<this.realSlides.length&&this.starterSlide!=this.realSlides[e]&&(this.unsetActiveSlide(this.starterSlide),this.starterSlide=this.realSlides[e],this.setActiveSlide(this.realSlides[e]))},SmartSliderAbstract.prototype.startCurrentSlideIndex=function(){this.currentRealSlide=this.currentSlide=this.starterSlide,this.setActiveSlide(this.currentSlide),parseInt(this.parameters.carousel)?this.initCarousel():this.initNotCarousel()},SmartSliderAbstract.prototype.onFirstSlideInitialized=function(){for(var i=0;i<this.realSlides.length;i++)this.realSlides[i].setNext(this.realSlides[i+1>this.realSlides.length-1?0:i+1]);this.startCurrentSlideIndex(),this.firstSlideReady.resolve(this.currentSlide);for(var j=0;j<this.parameters.initCallbacks.length;j++)new Function("$",this.parameters.initCallbacks[j]).call(this,$);if(this.widgets=new scope.SmartSliderWidgets(this),this.sliderElement.on({universalenter:$.proxy(function(e){$(e.target).closest(".n2-full-screen-widget").length||this.sliderElement.addClass("n2-hover")},this),universalleave:$.proxy(function(e){e.stopPropagation(),this.sliderElement.removeClass("n2-hover")},this)}),this.controls={},this.initMainAnimationWithLayerAnimation(),this.isAdmin||!this.parameters.parallax.enabled||!this.parameters.parallax.mobile&&(this.parameters.parallax.mobile||n2const.isMobile)||(this.parallax=new scope.LayerParallax(this,this.parameters.parallax),this.ready($.proxy(function(){this.parallax.start(this.currentSlide),this.sliderElement.on("sliderSwitchTo",$.proxy(function(e,t){this.parallax.start(this.slides[t])},this))},this))),this.parameters.blockrightclick&&this.sliderElement.bind("contextmenu",function(e){e.preventDefault()}),this.initMainAnimation(),this.initResponsiveMode(),!this.killed){try{var removeHoverClassCB=$.proxy(function(){this.sliderElement.removeClass("n2-has-hover"),this.sliderElement[0].removeEventListener("touchstart",removeHoverClassCB,window.n2passiveEvents?{passive:!0}:!1)},this);this.sliderElement[0].addEventListener("touchstart",removeHoverClassCB,window.n2passiveEvents?{passive:!0}:!1)}catch(e){}if(this.initControls(),this.startedDeferred.resolve(this),!this.isAdmin){var event="click";this.hasTouch()&&(event="n2click"),this.sliderElement.find("[data-n2click]").each(function(i,el){var el=$(el);el.on(event,function(){eval(el.data("n2click"))})}),this.sliderElement.find("[data-click]").each(function(i,el){var el=$(el).on("click",function(){eval(el.data("click"))}).css("cursor","pointer")}),this.sliderElement.find("[data-n2middleclick]").on("mousedown",function(e){var el=$(this);2!=e.which&&4!=e.which||(e.preventDefault(),eval(el.data("n2middleclick")))}),this.sliderElement.find("[data-mouseenter]").each(function(i,el){var el=$(el).on("mouseenter",function(){eval(el.data("mouseenter"))})}),this.sliderElement.find("[data-mouseleave]").each(function(i,el){var el=$(el).on("mouseleave",function(){eval(el.data("mouseleave"))})}),this.sliderElement.find("[data-play]").each(function(i,el){var el=$(el).on("n2play",function(){eval(el.data("play"))})}),this.sliderElement.find("[data-pause]").each(function(i,el){var el=$(el).on("n2pause",function(){eval(el.data("pause"))})}),this.sliderElement.find("[data-stop]").each(function(i,el){var el=$(el).on("n2stop",function(){eval(el.data("stop"))})}),window.n2FocusAllowed==undefined&&(window.n2FocusAllowed=!1,$(window).on({keydown:function(){window.n2FocusAllowed=!0},keyup:function(){window.n2FocusAllowed=!1}})),this.sliderElement.find("a").on({focus:$.proxy(function(e){if(n2FocusAllowed){var t=this.findSlideByElement(e.currentTarget);t&&t!=this.currentRealSlide&&this.directionalChangeToReal(t.index)}},this)})}this.preReadyResolve(),this.isAdmin||this.startLightbox(),this.sliderElement.find('[role="button"], [tabindex]').not("input,select,textarea").keypress(function(e){32!==e.charCode&&13!==e.charCode||(e.preventDefault(),$(e.target).click())}).on("mouseleave",function(e){$(e.currentTarget).blur()})}},SmartSliderAbstract.prototype.__initSlides=function(){for(var e=this.sliderElement.find(".n2-ss-slide"),t=0;t<e.length;t++)this.slides.push(new scope.FrontendSliderSlide(this,e.eq(t),t));this.starterSlide=this.slides[0];for(var t=0;t<this.slides.length;t++)this.slides[t].init(),1==this.slides[t].$element.data("first")&&(this.starterSlide=this.slides[t]);this.realSlides=this.slides,this.afterRawSlidesReady(),this.randomize(this.slides);var i=this.sliderElement.find(".n2-ss-static-slide");i.length&&(this.staticSlide=new scope.FrontendSliderStaticSlide(this,i))},SmartSliderAbstract.prototype.afterRawSlidesReady=function(){},SmartSliderAbstract.prototype.setVisibleSlides=function(e){e!=this.visibleSlides&&(this.visibleSlides=e,this.sliderElement.triggerHandler("visibleSlidesChanged"))},SmartSliderAbstract.prototype.getVisibleSlides=function(e){return 0==arguments.length&&(e=this.currentSlide),[e]},SmartSliderAbstract.prototype.findSlideBackground=function(e){return e.$element.find(".n2-ss-slide-background")},SmartSliderAbstract.prototype.getRealIndex=function(e){return e},SmartSliderAbstract.prototype.randomize=function(e){this.randomizeFirst(),this.parameters.randomize.randomize&&this.shuffleSlides(e)},SmartSliderAbstract.prototype.randomizeFirst=function(){this.parameters.randomize.randomizeFirst&&(this.unsetActiveSlide(this.starterSlide),this.starterSlide=this.realSlides[Math.floor(Math.random()*this.realSlides.length)],this.setActiveSlide(this.starterSlide),console.log("randomize first"))},SmartSliderAbstract.prototype.shuffleSlides=function(e){e.sort(function(){return.5-Math.random()});for(var t=e[0].$element.parent(),i=0;i<e.length;i++)e[i].$element.appendTo(t),e[i].setIndex(i);this.isShuffled=!0},SmartSliderAbstract.prototype.addWidget=function(e,t){this.widgetDeferreds.push(t)},SmartSliderAbstract.prototype.started=function(e){this.startedDeferred.done($.proxy(e,this))},SmartSliderAbstract.prototype.preReadyResolve=function(){setTimeout($.proxy(this._preReadyResolve,this),1)},SmartSliderAbstract.prototype._preReadyResolve=function(){this.load.start(),this.load.loaded($.proxy(this.readyResolve,this))},SmartSliderAbstract.prototype.readyResolve=function(){$(window).scroll(),this.readyDeferred.resolve()},SmartSliderAbstract.prototype.ready=function(e){this.readyDeferred.done($.proxy(e,this))},SmartSliderAbstract.prototype.startVisibilityCheck=function(){this.visibleDeferred=$.Deferred(),this.parameters.playWhenVisible?this.ready($.proxy(function(){$(window).on("scroll.n2-ss-visible"+this.id+" resize.n2-ss-visible"+this.id,$.proxy(this.checkIfVisible,this)),this.checkIfVisible()},this)):this.ready($.proxy(function(){this.visibleDeferred.resolve()},this))},SmartSliderAbstract.prototype.checkIfVisible=function(){var e=$(window).scrollTop(),t=$(window).height(),i=this.sliderElement.offset().top,s=i+Math.min(this.sliderElement.height(),t)*this.parameters.playWhenVisibleAt,n=i+Math.min(this.sliderElement.height(),t)*(1-this.parameters.playWhenVisibleAt);(this.isAdmin||s>=e&&e+t>=n)&&($(window).off("scroll.n2-ss-visible"+this.id+" resize.n2-ss-visible"+this.id,$.proxy(this.checkIfVisible,this)),this.visibleDeferred.resolve())},SmartSliderAbstract.prototype.visible=function(e){this.visibleDeferred.done($.proxy(e,this))},SmartSliderAbstract.prototype.isPlaying=function(){return"ended"!=this.mainAnimation.getState()},SmartSliderAbstract.prototype.focus=function(e){var t=$.Deferred();if("undefined"==typeof e&&(e=0),this.responsive.parameters.focusUser&&!e||this.responsive.parameters.focusAutoplay&&e){var i=this.sliderElement.offset().top-(this.responsive.verticalOffsetSelectors.height()||0);$(window).scrollTop()!=i?$("html, body").animate({scrollTop:i},400,$.proxy(function(){t.resolve()},this)):t.resolve()}else t.resolve();return t},SmartSliderAbstract.prototype.initNotCarousel=function(){this.next=function(e,t){var i=this.currentSlide.index+1;return i<this.slides.length?this.changeTo(i,!1,e,t):!1},this.previous=function(e,t){var i=this.currentSlide.index-1;return i>=0?this.changeTo(i,!0,e,t):!1},this.isChangePossible=function(e){var t=!1;return"next"==e?(t=this.currentSlide.index+1,t>=this.slides.length&&(t=!1)):"previous"==e&&(t=this.currentSlide.index-1,0>t&&(t=!1)),t!==!1&&t!=this.currentSlide.index};var e=this.slides.length,t=1,i=this.sliderElement.find(".nextend-arrow-previous"),s=function(e){e!=t&&(NextendTween.to(i,.4,{opacity:e}).play(),t=e)},n=1,r=this.sliderElement.find(".nextend-arrow-next"),o=function(e){e!=n&&(NextendTween.to(r,.4,{opacity:e}).play(),n=e)},a=function(t){s(0==t?0:1),o(t==e-1?0:1)};a(this.currentSlide.index),this.sliderElement.on("sliderSwitchTo",function(e,t){a(t)})},SmartSliderAbstract.prototype.isChangePossibleCarousel=function(e){var t=!1;return"next"==e?(t=this.currentSlide.index+1,t>=this.slides.length&&(t=0)):"previous"==e&&(t=this.currentSlide.index-1,0>t&&(t=this.slides.length-1)),t!==!1&&t!=this.currentSlide.index},SmartSliderAbstract.prototype.initCarousel=function(){this.next=this.nextCarousel,this.previous=this.previousCarousel,this.isChangePossible=this.isChangePossibleCarousel},SmartSliderAbstract.prototype.nextCarousel=function(e,t){var i=this.currentSlide.index+1;return i>=this.slides.length&&(i=0),this.changeTo(i,!1,e,t)},SmartSliderAbstract.prototype.previousCarousel=function(e,t){var i=this.currentSlide.index-1;return 0>i&&(i=this.slides.length-1),this.changeTo(i,!0,e,t)},SmartSliderAbstract.prototype.directionalChangeToReal=function(e){this.directionalChangeTo(e)},SmartSliderAbstract.prototype.directionalChangeTo=function(e){e>this.currentSlide.index?this.changeTo(e,!1):this.changeTo(e,!0)},SmartSliderAbstract.prototype.changeTo=function(e,t,i,s){if(e=parseInt(e),e!=this.currentSlide.index){this.sliderElement.trigger("sliderSwitchTo",[e,this.getRealIndex(e)]);var n=$.now();return $.when(this.backgroundImages.preLoadSlides(this.getVisibleSlides(this.slides[e])),this.focus(i)).done($.proxy(function(){if(this.mainAnimationLastChangeTime<=n){this.mainAnimationLastChangeTime=n;var r=this.mainAnimation.getState();if("ended"==r){"undefined"==typeof i&&(i=!1);var o=this.mainAnimation;"undefined"!=typeof s&&(o=s),this._changeTo(e,t,i,s),o.changeTo(this.currentSlide,this.slides[e],t,i),this._changeCurrentSlide(e)}else"playing"==r&&(this.sliderElement.off(".fastChange").one("mainAnimationComplete.fastChange",$.proxy(function(){this.changeTo.call(this,e,t,i,s)},this)),this.mainAnimation.timeScale(2*this.mainAnimation.timeScale()))}},this)),!0}return!1},SmartSliderAbstract.prototype._changeCurrentSlide=function(e){this.currentRealSlide=this.currentSlide=this.slides[e]},SmartSliderAbstract.prototype._changeTo=function(e,t,i,s){},SmartSliderAbstract.prototype.revertTo=function(e,t){this.unsetActiveSlide(this.slides[t]),this.setActiveSlide(this.slides[e]),this._changeCurrentSlide(e),this.sliderElement.trigger("sliderSwitchTo",[e,this.getRealIndex(e)])},SmartSliderAbstract.prototype.setActiveSlide=function(e){e.$element.addClass("n2-ss-slide-active")},SmartSliderAbstract.prototype.unsetActiveSlide=function(e){e.$element.removeClass("n2-ss-slide-active")},SmartSliderAbstract.prototype.initMainAnimationWithLayerAnimation=function(){"forced"==this.parameters.layerMode.mode&&this.sliderElement.on("preChangeToPlay",$.proxy(function(e,t,i,s,n){i.handled=!0,s.$element.on("layerAnimationCompleteOut.layers",function(){s.$element.off("layerAnimationCompleteOut.layers"),t.resolve()}),s.playOut()},this)),this.sliderElement.on("mainAnimationStart",$.proxy(this.onMainAnimationStartSyncLayers,this,this.parameters.layerMode)).on("reverseModeEnabled",$.proxy(this.onMainAnimationStartSyncLayersReverse,this,this.parameters.layerMode))},SmartSliderAbstract.prototype.onMainAnimationStartSyncLayers=function(e,t,i,s,n){var r=this.slides[n].$element,o=this.slides[s].$element;"mainInStart"==e.inAnimation?r.one("mainAnimationStartIn.layers",$.proxy(function(){r.off("mainAnimationStartInCancel.layers"),r.data("slide").playIn()},this)):"mainInEnd"==e.inAnimation&&r.one("mainAnimationCompleteIn.layers",$.proxy(function(){r.off("mainAnimationStartInCancel.layers"),r.data("slide").playIn()},this)),"skippable"==e.mode&&o.on("mainAnimationCompleteOut.layers",$.proxy(function(){o.off("mainAnimationCompleteOut.layers"),e.playOnce?this.parameters.foreverLayerAnimation||o.data("slide").pause():o.data("slide").reset()},this)),r.one("mainAnimationStartInCancel.layers",function(){r.off("mainAnimationStartIn.layers"),r.off("mainAnimationCompleteIn.layers")})},SmartSliderAbstract.prototype.onMainAnimationStartSyncLayersReverse=function(e,t,i){var s=this.slides[i].$element;"mainInStart"==e.inAnimation?s.one("mainAnimationStartIn.layers",$.proxy(function(){s.data("slide").playIn()},this)):"mainInEnd"==e.inAnimation&&s.one("mainAnimationCompleteIn.layers",$.proxy(function(){this.sliderElement.off("mainAnimationComplete.layers"),s.data("slide").playIn()},this)),this.sliderElement.one("mainAnimationComplete.layers",function(){s.off("mainAnimationStartIn.layers"),s.off("mainAnimationCompleteIn.layers")})},SmartSliderAbstract.prototype.findSlideByElement=function(e){e=$(e);for(var t=0;t<this.realSlides.length;t++)if(1===this.realSlides[t].$element.has(e).length)return this.realSlides[t];return!1},SmartSliderAbstract.prototype.findSlideIndexByElement=function(e){var t=this.findSlideByElement(e);return t?t:-1},SmartSliderAbstract.prototype.initMainAnimation=function(){this.mainAnimation=!1},SmartSliderAbstract.prototype.initResponsiveMode=function(){this.dimensions=this.responsive.responsiveDimensions},SmartSliderAbstract.prototype.hasTouch=function(){return"0"!=this.parameters.controls.touch&&this.slides.length>1},SmartSliderAbstract.prototype.initControls=function(){this.parameters.admin||(this.hasTouch()&&new scope.SmartSliderControlTouch(this,this.parameters.controls.touch,{fallbackToMouseEvents:this.parameters.controls.drag}),this.parameters.controls.keyboard&&("undefined"!=typeof this.controls.touch?new scope.SmartSliderControlKeyboard(this,this.controls.touch._direction.axis):new scope.SmartSliderControlKeyboard(this,"horizontal")),this.parameters.controls.scroll&&new scope.SmartSliderControlScroll(this),this.parameters.controls.tilt&&new scope.SmartSliderControlTilt(this),this.controlAutoplay=new scope.SmartSliderControlAutoplay(this,this.parameters.autoplay),this.controlFullscreen=new scope.SmartSliderControlFullscreen(this))},SmartSliderAbstract.prototype.getSlideIndex=function(e){return e},SmartSliderAbstract.prototype.slideToID=function(e,t){for(var i=0;i<this.realSlides.length;i++)if(this.realSlides[i].id==e)return this.slide(this.getSlideIndex(i),t);var s=$('[data-id="'+e+'"]').closest(".n2-ss-slider");if(s.length&&this.id==s.data("ss").id)return!0;if(s.length){var n=0;return"undefined"!=typeof n2ScrollOffsetSelector&&(n=n2(n2ScrollOffsetSelector).outerHeight()),n2("html, body").animate({scrollTop:s.offset().top-n},400),s.data("ss").slideToID(e,t)}},SmartSliderAbstract.prototype.slide=function(e,t){return e>=0&&e<this.slides.length?"undefined"==typeof t?parseInt(this.parameters.carousel)&&this.currentSlide.index==this.slides.length-1&&0==e?this.next():this.currentSlide.index>e?this.changeTo(e,!0):this.changeTo(e):this.changeTo(e,!t):!1},SmartSliderAbstract.prototype.startAutoplay=function(e){return"undefined"!=typeof this.controlAutoplay?(this.controlAutoplay.pauseAutoplayExtraPlayingEnded(e,"autoplayButton"),!0):!1},SmartSliderAbstract.prototype.startLightbox=function(){if(this.parameters.lightbox.length>0){for(var e=[],t=0,i=this,s=0;s<this.parameters.lightbox.length;s++)e.push($('<a href="'+this.parameters.lightbox[s]+'" n2-lightbox="" data-litebox-group="'+this.id+'" style="display:none;"></a>').data({title:this.parameters.titles[s],description:this.parameters.descriptions[s]}).on("click",function(e){e.stopPropagation()}).appendTo(this.realSlides[s].$element));this.parameters.lightboxDeviceImages&&this.sliderElement.on("SliderDevice",$.proxy(function(t,i){for(var s=0;s<this.parameters.lightbox.length;s++){var n=this.parameters.lightbox[s];if(this.parameters.lightboxDeviceImages[n]){var r=this.parameters.lightbox[s];"mobile"==i.device?this.parameters.lightboxDeviceImages[n]["mobile"+(nextend.isRetina?"-retina":"")]?r=this.parameters.lightboxDeviceImages[n]["mobile"+(nextend.isRetina?"-retina":"")]:this.parameters.lightboxDeviceImages[n]["tablet"+(nextend.isRetina?"-retina":"")]&&(r=this.parameters.lightboxDeviceImages[n]["tablet"+(nextend.isRetina?"-retina":"")]):"tablet"==i.device&&this.parameters.lightboxDeviceImages[n]["tablet"+(nextend.isRetina?"-retina":"")]&&(r=this.parameters.lightboxDeviceImages[n]["tablet"+(nextend.isRetina?"-retina":"")]),e[s].attr("href",r)}}},this)),this.sliderElement.find("a[n2-lightbox]").liteBox({callbackBeforeOpen:function(e){t=i.currentRealSlide.index,this.$element.trigger("mediaStarted",this)},callbackAfterClose:function(){this.$element.trigger("mediaEnded",this)},callbackPrev:$.proxy(function(){var e=t-1;0>e&&(e=i.realSlides.length-1),this.directionalChangeToReal(e),t=e},this),callbackNext:$.proxy(function(){var e=t+1;e>=i.realSlides.length&&(e=0),this.directionalChangeToReal(e),t=e},this)});var n="click";this.hasTouch()&&(n="n2click");for(var s=0;s<this.realSlides.length;s++)this.realSlides[s].$element.css("cursor","zoom-in").on(n,$.proxy(function(t,i){$(i.target).hasClass("smart-slider-overlay")||setTimeout($.proxy(function(){"ended"==this.mainAnimation.state&&e[t].trigger("click")},this),10)},this,s))}},SmartSliderAbstract.prototype.getSlideBackgroundContainer=function(){},SmartSliderAbstract.prototype.startParticleJS=function(e){if(this.pJS&&this.pJS.pJS.fn.vendors.destroypJS(),e.mobile||!n2const.isPhone){var t=this.getSlideBackgroundContainer(),i=N2Classes.particlesJS(t,$.extend(!0,e,{interactivity:{detect_on:this.sliderElement[0]}}));return this.sliderElement.on("SliderResize",function(){i.pJS.fn.resize()}),this.pJS=i,this.pJS}},SmartSliderAbstract}),N2Require("SmartSliderWidgets",[],[],function($,scope,undefined){function SmartSliderWidgets(e){this.slider=e,this.sliderElement=e.sliderElement.on("BeforeVisible",$.proxy(this.onReady,this)),this.initExcludeSlides()}return SmartSliderWidgets.prototype.onReady=function(){this.dimensions=this.slider.dimensions,this.widgets={previous:this.sliderElement.find(".nextend-arrow-previous"),next:this.sliderElement.find(".nextend-arrow-next"),bullet:this.sliderElement.find(".nextend-bullet-bar"),autoplay:this.sliderElement.find(".nextend-autoplay"),indicator:this.sliderElement.find(".nextend-indicator"),bar:this.sliderElement.find(".nextend-bar"),thumbnail:this.sliderElement.find(".nextend-thumbnail"),shadow:this.sliderElement.find(".nextend-shadow"),fullscreen:this.sliderElement.find(".nextend-fullscreen"),html:this.sliderElement.find(".nextend-widget-html")},this.variableElementsDimension={width:this.sliderElement.find("[data-sswidth]"),height:this.sliderElement.find("[data-ssheight]")},this.variableElements={top:this.sliderElement.find("[data-sstop]"),right:this.sliderElement.find("[data-ssright]"),bottom:this.sliderElement.find("[data-ssbottom]"),left:this.sliderElement.find("[data-ssleft]")},this.slider.sliderElement.on("SliderAnimatedResize",$.proxy(this.onAnimatedResize,this)),this.slider.sliderElement.on("SliderResize",$.proxy(this.onResize,this)),this.slider.sliderElement.one("slideCountChanged",$.proxy(function(){this.onResize(this.slider.responsive.lastRatios)},this)),this.onResize(this.slider.responsive.lastRatios),this.initHover()},SmartSliderWidgets.prototype.initHover=function(){var e=null,t=this.sliderElement.find(".n2-ss-widget-hover");t.length>0&&this.sliderElement.on("universalenter",function(i){var s=$(this);e&&clearTimeout(e),t.css("visibility","visible"),setTimeout(function(){s.addClass("n2-ss-widget-hover-show")},50)}).on("universalleave",function(){var i=this;e&&clearTimeout(e),e=setTimeout(function(){$(i).removeClass("n2-ss-widget-hover-show"),e=setTimeout(function(){t.css("visibility","hidden")},400)},500)})},SmartSliderWidgets.prototype.initExcludeSlides=function(){var e=this.sliderElement.find(".n2-ss-widget[data-exclude-slides]"),t=function(e,t,i){-1!=$.inArray(i+1+"",t)?e.addClass("n2-ss-widget-hidden"):e.removeClass("n2-ss-widget-hidden")};e.each($.proxy(function(e,i){for(var s=$(i),n=s.attr("data-exclude-slides").split(","),e=n.length-1;e>=0;e--){var r=n[e].split("-");if(2==r.length&&parseInt(r[0])<=parseInt(r[1])){n[e]=r[0],r[0]=parseInt(r[0]),r[1]=parseInt(r[1]);for(var o=r[0]+1;o<=r[1];o++)n.push(o+"")}}t(s,n,this.slider.currentRealSlide.index),this.slider.sliderElement.on("sliderSwitchTo",function(e,i){t(s,n,i)})},this))},SmartSliderWidgets.prototype.onAnimatedResize=function(e,ratios,timeline,duration){for(var key in this.widgets){var el=this.widgets[key],visible=el.is(":visible");this.dimensions[key+"width"]=visible?el.outerWidth(!1):0,this.dimensions[key+"height"]=visible?el.outerHeight(!1):0}this.dimensions.width=this.dimensions.slider.width,
this.dimensions.height=this.dimensions.slider.height,this.dimensions.outerwidth=this.sliderElement.parent().width(),this.dimensions.outerheight=this.sliderElement.parent().height(),this.dimensions.canvaswidth=this.dimensions.slide.width,this.dimensions.canvasheight=this.dimensions.slide.height,this.dimensions.margintop=this.dimensions.slider.marginTop,this.dimensions.marginright=this.dimensions.slider.marginRight,this.dimensions.marginbottom=this.dimensions.slider.marginBottom,this.dimensions.marginleft=this.dimensions.slider.marginLeft;var variableText="";for(var key in this.dimensions){var value=this.dimensions[key];if("object"==typeof value)for(var key2 in value)variableText+="var "+key+key2+" = "+value[key2]+";";else variableText+="var "+key+" = "+value+";"}eval(variableText);for(var k in this.variableElementsDimension)for(var i=0;i<this.variableElementsDimension[k].length;i++){var el=this.variableElementsDimension[k].eq(i);if(el.is(":visible")){var to={};try{to[k]=eval(el.data("ss"+k))+"px";for(var widget in this.widgets)this.widgets[widget].filter(el).length&&("width"==k?this.dimensions[widget+k]=el.outerWidth(!1):"height"==k&&(this.dimensions[widget+k]=el.outerHeight(!1)),eval(widget+k+" = "+this.dimensions[widget+k]+";"))}catch(e){console.log(el," position variable: "+e.message+": ",el.data("ss"+k))}timeline.to(el,duration,to,0)}}for(var k in this.variableElements)for(var i=0;i<this.variableElements[k].length;i++){var el=this.variableElements[k].eq(i);try{var to={};to[k]=eval(el.data("ss"+k))+"px",timeline.to(el,duration,to,0)}catch(e){console.log(el," position variable: "+e.message+": ",el.data("ss"+k))}}},SmartSliderWidgets.prototype.onResize=function(e,ratios,responsive,timeline){if(!timeline){for(var k in this.variableElements)for(var i=0;i<this.variableElements[k].length;i++){var last=this.variableElements[k].data("n2Last"+k);last>0&&this.variableElements[k].css(k,0)}for(var key in this.widgets){var el=this.widgets[key],visible=el.length&&el.is(":visible");el.length&&el.is(":visible")?(this.dimensions[key+"width"]=el.outerWidth(!1),this.dimensions[key+"height"]=el.outerHeight(!1)):(this.dimensions[key+"width"]=0,this.dimensions[key+"height"]=0)}for(var k in this.variableElements)for(var i=0;i<this.variableElements[k].length;i++){var last=this.variableElements[k].data("n2Last"+k);last>0&&this.variableElements[k].css(k,last)}this.dimensions.width=this.dimensions.slider.width,this.dimensions.height=this.dimensions.slider.height,this.dimensions.outerwidth=this.sliderElement.parent().width(),this.dimensions.outerheight=this.sliderElement.parent().height(),this.dimensions.canvaswidth=this.dimensions.slide.width,this.dimensions.canvasheight=this.dimensions.slide.height,this.dimensions.margintop=this.dimensions.slider.marginTop,this.dimensions.marginright=this.dimensions.slider.marginRight,this.dimensions.marginbottom=this.dimensions.slider.marginBottom,this.dimensions.marginleft=this.dimensions.slider.marginLeft;var variableText="";for(var key in this.dimensions){var value=this.dimensions[key];if("object"==typeof value)for(var key2 in value)variableText+="var "+key+key2+" = "+value[key2]+";";else variableText+="var "+key+" = "+value+";"}eval(variableText);for(var k in this.variableElementsDimension)for(var i=0;i<this.variableElementsDimension[k].length;i++){var el=this.variableElementsDimension[k].eq(i);if(el.is(":visible"))try{el.css(k,eval(el.data("ss"+k))+"px");for(var widget in this.widgets)this.widgets[widget].filter(el).length&&("width"==k?this.dimensions[widget+k]=el.outerWidth(!1):"height"==k&&(this.dimensions[widget+k]=el.outerHeight(!1)),eval(widget+k+" = "+this.dimensions[widget+k]+";"))}catch(e){console.log(el," position variable: "+e.message+": ",el.data("ss"+k))}}for(var k in this.variableElements)for(var i=0;i<this.variableElements[k].length;i++){var el=this.variableElements[k].eq(i);try{var value=eval(el.data("ss"+k));el.css(k,value+"px"),el.data("n2Last"+k,value)}catch(e){console.log(el," position variable: "+e.message+": ",el.data("ss"+k))}}this.slider.responsive.refreshStaticSizes()}},SmartSliderWidgets}),N2Require("SmartSliderBackgroundAnimationAbstract",[],[],function(e,t,i){function s(e,t,i,s,n,r){this.durationMultiplier=n,this.original={currentImage:t,nextImage:i},this.animationProperties=s,this.reversed=r,this.timeline=e.timeline,this.containerElement=e.bgAnimationElement,this.shiftedBackgroundAnimation=e.parameters.shiftedBackgroundAnimation,this.clonedImages={}}return s.prototype.postSetup=function(){},s.prototype.ended=function(){},s.prototype.revertEnded=function(){},s.prototype.placeNextImage=function(){this.clonedImages.nextImage=this.original.nextImage.clone().css({position:"absolute",top:0,left:0}),this.containerElement.append(this.clonedImages.nextImage)},s.prototype.placeCurrentImage=function(){this.clonedImages.currentImage=this.original.currentImage.clone().css({position:"absolute",top:0,left:0}),this.containerElement.append(this.clonedImages.currentImage)},s.prototype.hideOriginals=function(){this.original.currentImage.css("opacity",0),this.original.nextImage.css("opacity",0)},s.prototype.resetAll=function(){this.original.currentImage.css("opacity",1),this.original.nextImage.css("opacity",1),this.containerElement.html("")},s.prototype.getExtraDelay=function(){return 0},s}),N2Require("SmartSliderBackgroundAnimationCubic",["SmartSliderBackgroundAnimationTiled"],[],function(e,t,i){function s(){t.SmartSliderBackgroundAnimationTiled.prototype.constructor.apply(this,arguments)}return s.prototype=Object.create(t.SmartSliderBackgroundAnimationTiled.prototype),s.prototype.constructor=s,s.prototype.setup=function(){var i=e.extend(!0,{columns:1,rows:1,fullCube:!0,tiles:{delay:.2,sequence:"Parallel"},depth:50,main:{side:"Left",duration:.5,ease:"easeInOutCubic",direction:"horizontal",real3D:!0},pre:[],post:[]},this.animationProperties);i.fullCube=!0,this.reversed&&("undefined"!=typeof i.invert&&e.extend(!0,i.main,i.invert),"undefined"!=typeof i.invertTiles&&e.extend(i.tiles,i.invertTiles)),t.SmartSliderBackgroundAnimationTiled.prototype.setup.call(this,i)},s.prototype.renderTile=function(t,i,s,n,r,o){var a=n.depth;switch(a){case"width":a=i;break;case"height":a=s}switch(n.main.side){case"Top":case"Bottom":a=s;break;case"Left":case"Right":a=i}n.main.real3D&&NextendTween.set(t.get(0),{transformStyle:"preserve-3d"});var l=e('<div class="cuboid"></div>').css({position:"absolute",left:"0",top:"0",width:"100%",height:"100%"}).appendTo(t);NextendTween.set(l.get(0),{transformStyle:"preserve-3d",z:-a/2});var h=0;"horizontal"==n.main.direction&&(h=180);var d=this.getSide(l,i,s,0,0,-a/2,180,0,h),p={Back:d,BackInvert:d};return(n.fullCube||"vertical"==n.main.direction)&&(p.Bottom=this.getSide(l,i,a,0,s-a/2,0,-90,0,0),p.Top=this.getSide(l,i,a,0,-a/2,0,90,0,0)),p.Front=this.getSide(l,i,s,0,0,a/2,0,0,0),(n.fullCube||"horizontal"==n.main.direction)&&(p.Left=this.getSide(l,a,s,-a/2,0,0,0,-90,0),p.Right=this.getSide(l,a,s,i-a/2,0,0,0,90,0)),p.Front.append(this.clonedCurrent().clone().css({position:"absolute",top:-o+"px",left:-r+"px"})),p[n.main.side].append(this.clonedNext().clone().css({position:"absolute",top:-o+"px",left:-r+"px"})),l},s.prototype.getSide=function(t,i,s,n,r,o,a,l,h){var d=e('<div class="n2-3d-side"></div>').css({width:i,height:s}).appendTo(t);return NextendTween.set(d.get(0),{x:n,y:r,z:o,rotationX:a,rotationY:l,rotationZ:h,backfaceVisibility:"hidden"}),d},s.prototype.addAnimation=function(e,t){var i=e.duration;delete e.duration,this.timeline.to(t,i*this.durationMultiplier,e)},s.prototype.transform=function(e,t,i){for(var s=0;s<e.pre.length;s++){var n=e.pre[s],r=n.duration*this.durationMultiplier;this.timeline.to(t,r,n,i),i+=r}this["transform"+e.main.side](e.main,t,i),i+=e.main.duration;for(var s=0;s<e.post.length;s++){var n=e.post[s],r=n.duration*this.durationMultiplier;this.timeline.to(t,r,n,i),i+=r}},s.prototype.transformLeft=function(e,t,i){this._transform(e,t,i,0,90,0)},s.prototype.transformRight=function(e,t,i){this._transform(e,t,i,0,-90,0)},s.prototype.transformTop=function(e,t,i){this._transform(e,t,i,-90,0,0)},s.prototype.transformBottom=function(e,t,i){this._transform(e,t,i,90,0,0)},s.prototype.transformBack=function(e,t,i){"horizontal"==e.direction?this._transform(e,t,i,0,180,0):this._transform(e,t,i,180,0,0)},s.prototype.transformBackInvert=function(e,t,i){"horizontal"==e.direction?this._transform(e,t,i,0,-180,0):this._transform(e,t,i,-180,0,0)},s.prototype._transform=function(e,t,i,s,n,r){this.timeline.to(t,e.duration*this.durationMultiplier,{rotationX:s,rotationY:n,rotationZ:r,ease:e.ease},i)},s}),N2Require("SmartSliderBackgroundAnimationExplode",["SmartSliderBackgroundAnimationTiled"],[],function(e,t,i){function s(){t.SmartSliderBackgroundAnimationTiled.prototype.constructor.apply(this,arguments)}return s.prototype=Object.create(t.SmartSliderBackgroundAnimationTiled.prototype),s.prototype.constructor=s,s.prototype.setup=function(){var i=e.extend(!0,{columns:1,rows:1,reverse:!1,tiles:{delay:0,sequence:"Parallel"},main:{duration:.5,zIndex:2,current:{ease:"easeInOutCubic"}}},this.animationProperties);this.placeNextImage(),this.clonedImages.nextImage.css({overflow:"hidden",width:"100%",height:"100%"}),t.SmartSliderBackgroundAnimationTiled.prototype.setup.call(this,i)},s.prototype.renderTile=function(t,i,s,n,r,o){var a=e("<div></div>").css({position:"absolute",left:0,top:0,width:i,height:s,overflow:"hidden",zIndex:n.main.zIndex}).append(this.clonedCurrent().clone().css({position:"absolute",top:-o+"px",left:-r+"px"})).appendTo(t);return NextendTween.set(t.get(0),{transformPerspective:1e3,transformStyle:"preserve-3d"}),{current:a,tile:t}},s.prototype.transform=function(t,i,s){var n=e.extend(!0,{},t.main.current);n.rotationX=90*(3*Math.random()-1),n.rotationY=90*(3*Math.random()-1),n.rotationZ=90*(3*Math.random()-1),this.timeline.to(i.tile,t.main.duration*this.durationMultiplier,n,s)},s}),N2Require("SmartSliderBackgroundAnimationExplodeReversed",["SmartSliderBackgroundAnimationTiled"],[],function(e,t,i){function s(){t.SmartSliderBackgroundAnimationTiled.prototype.constructor.apply(this,arguments)}return s.prototype=Object.create(t.SmartSliderBackgroundAnimationTiled.prototype),s.prototype.constructor=s,s.prototype.setup=function(){var i=e.extend(!0,{columns:1,rows:1,reverse:!1,tiles:{delay:0,sequence:"Parallel"},main:{duration:.5,zIndex:2,current:{ease:"easeInOutCubic"}}},this.animationProperties);this.placeCurrentImage(),this.clonedImages.currentImage.css({overflow:"hidden",width:"100%",height:"100%"}),t.SmartSliderBackgroundAnimationTiled.prototype.setup.call(this,i)},s.prototype.renderTile=function(t,i,s,n,r,o){var a=e("<div></div>").css({position:"absolute",left:0,top:0,width:i,height:s,overflow:"hidden",zIndex:n.main.zIndex}).append(this.clonedNext().clone().css({position:"absolute",top:-o+"px",left:-r+"px"})).appendTo(t);return NextendTween.set(t.get(0),{transformPerspective:1e3,transformStyle:"preserve-3d"}),{next:a,tile:t}},s.prototype.transform=function(t,i,s){var n=e.extend(!0,{},t.main.current);n.rotationX=90*(3*Math.random()-1),n.rotationY=90*(3*Math.random()-1),n.rotationZ=30*(3*Math.random()-1),this.timeline.from(i.tile,t.main.duration*this.durationMultiplier,n,s)},s}),N2Require("SmartSliderBackgroundAnimationFlat",["SmartSliderBackgroundAnimationTiled"],[],function(e,t,i){function s(){t.SmartSliderBackgroundAnimationTiled.prototype.constructor.apply(this,arguments)}return s.prototype=Object.create(t.SmartSliderBackgroundAnimationTiled.prototype),s.prototype.constructor=s,s.prototype.setup=function(){var i=e.extend(!0,{columns:1,rows:1,tiles:{cropOuter:!1,crop:!0,delay:0,sequence:"Parallel"},main:{type:"next",duration:.5,real3D:!0,zIndex:1,current:{ease:"easeInOutCubic"},next:{ease:"easeInOutCubic"}}},this.animationProperties);this.reversed&&("undefined"!=typeof i.invert&&e.extend(!0,i.main,i.invert),"undefined"!=typeof i.invertTiles&&e.extend(i.tiles,i.invertTiles)),t.SmartSliderBackgroundAnimationTiled.prototype.setup.call(this,i),i.tiles.cropOuter&&this.container.css("overflow","hidden")},s.prototype.renderTile=function(t,i,s,n,r,o){n.tiles.crop&&t.css("overflow","hidden");var a=e("<div></div>").css({position:"absolute",left:0,top:0,width:i,height:s,overflow:"hidden",zIndex:n.main.zIndex}).append(this.clonedCurrent().clone().css({position:"absolute",top:-o+"px",left:-r+"px"})).appendTo(t),l=e("<div></div>").css({position:"absolute",left:0,top:0,width:i,height:s,overflow:"hidden",zIndex:1}).append(this.clonedNext().clone().css({position:"absolute",top:-o+"px",left:-r+"px"})).appendTo(t);return n.main.real3D&&(NextendTween.set(t.get(0),{transformStyle:"preserve-3d"}),NextendTween.set(a.get(0),{transformStyle:"preserve-3d"}),NextendTween.set(l.get(0),{transformStyle:"preserve-3d"})),{current:a,next:l}},s.prototype.transform=function(e,t,i){var s=e.main;"current"!=s.type&&"both"!=s.type||this.timeline.to(t.current,s.duration*this.durationMultiplier,s.current,i),"next"!=s.type&&"both"!=s.type||this.timeline.from(t.next,s.duration*this.durationMultiplier,s.next,i)},s}),N2Require("SmartSliderBackgroundAnimationSlixes",["SmartSliderBackgroundAnimationTiled"],[],function(e,t,i){function s(){t.SmartSliderBackgroundAnimationTiled.prototype.constructor.apply(this,arguments)}return s.prototype=Object.create(t.SmartSliderBackgroundAnimationTiled.prototype),s.prototype.constructor=s,s.prototype.setup=function(){var i=e.extend(!0,{columns:2,rows:2,main:{duration:2,zIndex:2}},this.animationProperties);this.placeNextImage(),this.clonedImages.nextImage.css({overflow:"hidden",width:"100%",height:"100%"}),t.SmartSliderBackgroundAnimationTiled.prototype.setup.call(this,i)},s.prototype.renderTile=function(t,i,s,n,r,o){this.container.css("overflow","hidden");var a=e("<div></div>").css({position:"absolute",left:0,top:0,width:i,height:s,overflow:"hidden",zIndex:n.main.zIndex}).append(this.clonedCurrent().clone().css({position:"absolute",top:-o+"px",left:-r+"px"})).appendTo(t);return NextendTween.set(t.get(0),{transformPerspective:1e3,transformStyle:"preserve-3d"}),{current:a,tile:t}},s.prototype.animate=function(t,i,s){this.timeline.to(s[0][0].tile,t.main.duration*this.durationMultiplier,{left:"-50%",ease:"easeInOutCubic"},0),this.timeline.to(s[0][1].tile,t.main.duration*this.durationMultiplier,{left:"-50%",ease:"easeInOutCubic"},.3),this.timeline.to(s[1][0].tile,t.main.duration*this.durationMultiplier,{left:"100%",ease:"easeInOutCubic"},.15),this.timeline.to(s[1][1].tile,t.main.duration*this.durationMultiplier,{left:"100%",ease:"easeInOutCubic"},.45),e("<div />").css({position:"absolute",left:0,top:0,width:"100%",height:"100%",overflow:"hidden"}).prependTo(this.clonedImages.nextImage.parent()).append(this.clonedImages.nextImage),this.timeline.fromTo(this.clonedImages.nextImage,t.main.duration*this.durationMultiplier,{scale:1.3},{scale:1},.45)},s}),N2Require("SmartSliderBackgroundAnimationTiled",["SmartSliderBackgroundAnimationFluxAbstract"],[],function(e,t,i){function s(){t.SmartSliderBackgroundAnimationFluxAbstract.prototype.constructor.apply(this,arguments),this.setup()}return s.prototype=Object.create(t.SmartSliderBackgroundAnimationFluxAbstract.prototype),s.prototype.constructor=s,s.prototype.setup=function(t){var i=e("<div></div>").css({position:"absolute",left:0,top:0,width:this.w,height:this.h});this.container=i,NextendTween.set(i.get(0),{force3D:!0,perspective:1e3});for(var s=[],n=[],r=t.columns,o=t.rows,a=Math.floor(this.w/r),l=Math.floor(this.h/o),h=this.w-r*a,d=Math.ceil(h/r),p=this.h-o*l,u=Math.ceil(p/o),c=0,m=0;r>m;m++){s[m]=[];var f=a,y=0;if(h>0){var g=h>=d?d:h;f+=g,h-=g}for(var v=p,S=0;o>S;S++){var x=l;if(v>0){var g=v>=u?u:v;x+=g,v-=g}var b=e('<div class="tile tile-'+m+"-"+S+'"></div>').css({position:"absolute",top:y+"px",left:c+"px",width:f+"px",height:x+"px",zIndex:-Math.abs(m-parseInt(r/2))+r-Math.abs(S-parseInt(o/2))}).appendTo(i),w=this.renderTile(b,f,x,t,c,y);n.push(w),s[m][S]=w,y+=x}c+=f}i.appendTo(this.containerElement),this.preSetup(),this.animate(t,n,s)},s.prototype.animate=function(t,i,s){this["sequence"+t.tiles.sequence](e.proxy(this.transform,this,t),i,s,t.tiles.delay*this.durationMultiplier)},s.prototype.sequenceParallel=function(e,t){e(t,null)},s.prototype.sequenceRandom=function(e,t,i,s){for(var n=this.timeline.totalDuration(),r=0;r<t.length;r++)e(t[r],n+Math.random()*s)},s.prototype.sequenceForwardCol=function(e,t,i,s){for(var n=this.timeline.totalDuration(),r=0;r<t.length;r++)e(t[r],n+s*r)},s.prototype.sequenceBackwardCol=function(e,t,i,s){for(var n=this.timeline.totalDuration(),r=t.length-1,o=0;o<t.length;o++)e(t[o],n+s*(r-o))},s.prototype.sequenceForwardRow=function(e,t,i,s){for(var n=this.timeline.totalDuration(),r=0,o=0;o<i[0].length;o++)for(var a=0;a<i.length;a++)e(i[a][o],n+s*r),r++},s.prototype.sequenceBackwardRow=function(e,t,i,s){for(var n=this.timeline.totalDuration(),r=t.length-1,o=0;o<i[0].length;o++)for(var a=0;a<i.length;a++)e(i[a][o],n+s*r),r--},s.prototype.sequenceForwardDiagonal=function(e,t,i,s){for(var n=this.timeline.totalDuration(),r=0;r<i[0].length;r++)for(var o=0;o<i.length;o++)e(i[o][r],n+s*(o+r))},s.prototype.sequenceBackwardDiagonal=function(e,t,i,s){for(var n=this.timeline.totalDuration(),r=i[0].length+i.length-2,o=0;o<i[0].length;o++)for(var a=0;a<i.length;a++)e(i[a][o],n+s*(r-a-o))},s}),N2Require("SmartSliderBackgroundAnimationTurn",["SmartSliderBackgroundAnimationFluxAbstract"],[],function(e,t,i){function s(){t.SmartSliderBackgroundAnimationFluxAbstract.prototype.constructor.apply(this,arguments);var i=e.extend(!0,{perspective:1.5*this.w,duration:.8,direction:"left"},this.animationProperties);this.reversed&&("left"==i.direction?i.direction="right":i.direction="left");var s=parseInt(this.w/2);this.clonedCurrent().css({position:"absolute",top:0,left:"left"==i.direction?-1*(this.w/2):0}),this.clonedNext().css({position:"absolute",top:0,left:"left"==i.direction?0:-1*(this.w/2)});var n=e('<div class="tab"></div>').css({width:s,height:this.h,position:"absolute",top:"0px",left:"left"==i.direction?s:"0","z-index":101});NextendTween.set(n,{transformStyle:"preserve-3d",transformOrigin:"left"==i.direction?"0px 0px":s+"px 0px"});var r=e('<div class="n2-ff-3d"></div>').append(this.clonedCurrent()).css({width:s,height:this.h,position:"absolute",top:0,left:0,"-webkit-transform":"translateZ(0.1px)",overflow:"hidden"}).appendTo(n);NextendTween.set(r,{backfaceVisibility:"hidden",transformStyle:"preserve-3d"});var o=e('<div class="n2-ff-3d"></div>').append(this.clonedNext()).appendTo(n).css({width:s,height:this.h,position:"absolute",top:0,left:0,overflow:"hidden"});NextendTween.set(o,{backfaceVisibility:"hidden",transformStyle:"preserve-3d",rotationY:180,rotationZ:0});var a=e("<div></div>").append(this.clonedCurrent().clone().css("left","left"==i.direction?0:-s)).css({position:"absolute",top:0,left:"left"==i.direction?"0":s,width:s,height:this.h,zIndex:100,overflow:"hidden"}),l=e('<div class="overlay"></div>').css({position:"absolute",top:0,left:"left"==i.direction?s:0,width:s,height:this.h,background:"#000",opacity:1,overflow:"hidden"}),h=e("<div></div>").css({width:this.w,height:this.h,position:"absolute",top:0,left:0}).append(n).append(a).append(l);NextendTween.set(h,{perspective:i.perspective,perspectiveOrigin:"50% 50%"}),this.placeNextImage(),this.clonedImages.nextImage.css({overflow:"hidden",width:"100%",height:"100%"}),this.containerElement.append(h),this.preSetup(),this.timeline.to(n.get(0),i.duration*this.durationMultiplier,{rotationY:"left"==i.direction?-180:180},0),this.timeline.to(l.get(0),i.duration*this.durationMultiplier,{opacity:0},0)}return s.prototype=Object.create(t.SmartSliderBackgroundAnimationFluxAbstract.prototype),s.prototype.constructor=s,s.prototype.getExtraDelay=function(){return 0},s}),N2Require("SmartSliderBackgroundAnimationFluxAbstract",["SmartSliderBackgroundAnimationAbstract"],[],function(e,t,i){function s(){this.shiftedPreSetup=!1,this._clonedCurrent=!1,this._clonedNext=!1,t.SmartSliderBackgroundAnimationAbstract.prototype.constructor.apply(this,arguments),this.w=this.original.currentImage.width(),this.h=this.original.currentImage.height()}return s.prototype=Object.create(t.SmartSliderBackgroundAnimationAbstract.prototype),s.prototype.constructor=s,s.prototype.clonedCurrent=function(){return this._clonedCurrent||(this._clonedCurrent=this.original.currentImage.clone().css({width:this.w,height:this.h}),this._clonedCurrent.find(".n2-ss-slide-background-video").remove()),this._clonedCurrent},s.prototype.clonedNext=function(){return this._clonedNext||(this._clonedNext=this.original.nextImage.clone().css({width:this.w,height:this.h}),this._clonedNext.find(".n2-ss-slide-background-video").remove()),this._clonedNext},s.prototype.preSetup=function(){0!=this.shiftedBackgroundAnimation?this.shiftedPreSetup=!0:this._preSetup()},s.prototype._preSetup=function(e){this.timeline.to(this.original.currentImage.get(0),this.getExtraDelay(),{opacity:0},0),this.original.nextImage.css("opacity",0)},s.prototype.postSetup=function(){this.timeline.to(this.original.nextImage.get(0),this.getExtraDelay(),{opacity:1})},s.prototype.getExtraDelay=function(){return.2},s.prototype.ended=function(){this.original.currentImage.css("opacity",1),this.containerElement.html("")},s.prototype.revertEnded=function(){this.original.nextImage.css("opacity",1),this.containerElement.html("")},s}),N2Require("SmartSliderMainAnimationAbstract",[],[],function(e,t,i){function s(t,i){this.state="ended",this.isTouch=!1,this.isReverseAllowed=!0,this.isReverseEnabled=!1,this.reverseSlideIndex=null,this.isNoAnimation=!1,this.slider=t,this.parameters=e.extend({duration:1500,ease:"easeInOutQuint"},i),this.parameters.duration/=1e3,this.sliderElement=t.sliderElement,this.timeline=new NextendTimeline({paused:!0}),this.sliderElement.on("mainAnimationStart",e.proxy(function(e,t,i,s){this._revertCurrentSlideIndex=i,this._revertNextSlideIndex=s},this))}return s.prototype.setToStarterSlide=function(e){},s.prototype.enableReverseMode=function(){this.isReverseEnabled=!0,this.reverseTimeline=new NextendTimeline({paused:!0}),this.sliderElement.triggerHandler("reverseModeEnabled",this.reverseSlideIndex)},s.prototype.disableReverseMode=function(){this.isReverseEnabled=!1},s.prototype.setTouch=function(e){this.isTouch=e},s.prototype.setTouchProgress=function(e){this.isReverseEnabled?this._setTouchProgressWithReverse(e):this._setTouchProgress(e)},s.prototype._setTouchProgress=function(e){"ended"!=this.state&&(0>=e?this.timeline.progress(Math.max(e,1e-6),!1):e>=0&&1>=e&&this.timeline.progress(e))},s.prototype._setTouchProgressWithReverse=function(e){0==e?(this.reverseTimeline.progress(0),this.timeline.progress(e,!1)):e>=0&&1>=e?(this.reverseTimeline.progress(0),this.timeline.progress(e)):0>e&&e>=-1&&(this.timeline.progress(0),this.reverseTimeline.progress(Math.abs(e)))},s.prototype.setTouchEnd=function(e,t,i){"ended"!=this.state&&(this.isReverseEnabled?this._setTouchEndWithReverse(e,t,i):this._setTouchEnd(e,t,i))},s.prototype._setTouchEnd=function(e,t,i){e&&t>0?(this.fixTouchDuration(this.timeline,t,i),this.timeline.play()):(this.revertCB(this.timeline),this.fixTouchDuration(this.timeline,1-t,i),this.timeline.reverse(),this.willRevertTo(this._revertCurrentSlideIndex,this._revertNextSlideIndex))},s.prototype._setTouchEndWithReverse=function(e,t,i){e?0>t&&this.reverseTimeline.totalDuration()>0?(this.fixTouchDuration(this.reverseTimeline,t,i),this.reverseTimeline.play(),this.willRevertTo(this.reverseSlideIndex,this._revertNextSlideIndex)):(this.willCleanSlideIndex(this.reverseSlideIndex),this.fixTouchDuration(this.timeline,t,i),this.timeline.play()):(0>t?(this.revertCB(this.reverseTimeline),this.fixTouchDuration(this.reverseTimeline,1-t,i),this.reverseTimeline.reverse()):(this.revertCB(this.timeline),this.fixTouchDuration(this.timeline,1-t,i),this.timeline.reverse()),this.willCleanSlideIndex(this.reverseSlideIndex),this.willRevertTo(this._revertCurrentSlideIndex,this._revertNextSlideIndex))},s.prototype.fixTouchDuration=function(e,t,i){var s=e.totalDuration(),n=Math.max(s/3,Math.min(s,i/Math.abs(t)/1e3));n!=s&&e.totalDuration(n)},s.prototype.getState=function(){return this.state},s.prototype.timeScale=function(){return arguments.length>0?(this.timeline.timeScale(arguments[0]),this):this.timeline.timeScale()},s.prototype.preChangeToPlay=function(e,t,i){var s={handled:!1};this.sliderElement.trigger("preChangeToPlay",[e,s,t,i]),s.handled||e.resolve()},s.prototype.changeTo=function(t,i,s,n){if(this._initAnimation(t,i,s),this.state="initAnimation",this.timeline.paused(!0),this.timeline.eventCallback("onStart",this.onChangeToStart,[t,i,n],this),this.timeline.eventCallback("onComplete",this.onChangeToComplete,[t,i,n],this),this.timeline.eventCallback("onReverseComplete",null),this.revertCB=e.proxy(function(e){e.eventCallback("onReverseComplete",this.onReverseChangeToComplete,[i,t,n],this)},this),this.slider.parameters.dynamicHeight){var r=new NextendTimeline;this.slider.responsive.doResize(null,!1,r,i,.6),this.timeline.add(r)}if(this.isTouch)t.onOutAnimationsPlayed();else{var o=e.Deferred();o.done(e.proxy(function(){this.play()},this.timeline)),this.preChangeToPlay(o,t,i)}},s.prototype.willRevertTo=function(t,i){this.sliderElement.triggerHandler("mainAnimationWillRevertTo",[t,i]),this.sliderElement.one("mainAnimationComplete",e.proxy(this.revertTo,this,t,i))},s.prototype.revertTo=function(e,t){this.slider.revertTo(e,t),this.slider.slides[t].triggerHandler("mainAnimationStartInCancel")},s.prototype.willCleanSlideIndex=function(t){this.sliderElement.one("mainAnimationComplete",e.proxy(this.cleanSlideIndex,this,t))},s.prototype.cleanSlideIndex=function(){},s.prototype._initAnimation=function(e,t,i){},s.prototype.onChangeToStart=function(e,t,i){this.state="playing";var s=[this,e.index,t.index,i];this.sliderElement.trigger("mainAnimationStart",s),this.slider.slides[e.index].trigger("mainAnimationStartOut",s),this.slider.slides[t.index].trigger("mainAnimationStartIn",s)},s.prototype.onChangeToComplete=function(e,t,i){var s=[this,e.index,t.index,i];this.clearTimelines(),this.disableReverseMode(),this.slider.slides[e.index].trigger("mainAnimationCompleteOut",s),this.slider.slides[t.index].trigger("mainAnimationCompleteIn",s),this.state="ended",this.sliderElement.trigger("mainAnimationComplete",s)},s.prototype.onReverseChangeToComplete=function(e,t,i){s.prototype.onChangeToComplete.apply(this,arguments)},s.prototype.clearTimelines=function(){this.revertCB=function(){},this.timeline.clear(),this.timeline.timeScale(1)},s.prototype.getEase=function(){return this.isTouch?"linear":this.parameters.ease},s}),N2Require("SmartSliderPostBackgroundAnimation",[],[],function(e,t,i){function s(t,i){this.tween=null,this.lastTween=null,this.slider=t,this.mainAnimation=i,this.isFirst=!0,this.visibleAddedButNotPlayed=!1,this.parameters=e.extend({data:0,speed:"default",strength:"default"},t.parameters.postBackgroundAnimations),this.backgroundImages=t.backgroundImages,this.tweens=[],this.images=this.backgroundImages.getBackgroundImages();for(var s=0;s<this.images.length;s++)this.images[s]&&this.images[s].hasImage?(this.tweens[s]=this.images[s].loadDeferred,this.images[s].loadDeferred.done(e.proxy(function(e){this.tweens[e]=this.getAnimation(e,this.images[e],{slideW:1,slideH:1})},this,s))):this.tweens[s]=!1;this.playOnce=t.parameters.layerMode.playOnce,this.playFirst=t.parameters.layerMode.playFirstLayer;var n=t.currentSlide.index;this.tweens[n]&&e.when(this.tweens[n]).done(e.proxy(function(){this.playFirst?(this.tween=this.tweens[n],this.addVisiblePlay()):(this.tween=this.tweens[n],this.tween.progress(1,!1))},this)),t.sliderElement.on({mainAnimationStart:e.proxy(this.onMainAnimationStart,this),mainAnimationComplete:e.proxy(this.stop,this),SliderResize:e.proxy(this.onResize,this),mainAnimationWillRevertTo:e.proxy(this.onMainAnimationWillRevertTo,this)})}function n(e,t,i,s){this.startTime=-1,this.currentProgress=0,this.$el=e,this.duration=t,this.from=i,this.from.immediateRender=!0,this.to=s,this.$el.css("transition","all "+this.duration+"s"),this.pause(0)}var r={"default":5,superSlow:20,slow:10,normal:5,fast:3,superFast:1.5},o={"default":1,superSoft:.3,soft:.6,normal:1,strong:1.5,superStrong:2};return s.prototype.addVisiblePlay=function(){this.visibleAddedButNotPlayed||(this.visibleAddedButNotPlayed=!0,this.slider.visible(e.proxy(this.play,this)))},s.prototype.onMainAnimationStart=function(){this.isFirst=!1,this.mainAnimation.hasBackgroundAnimation()||this.mainAnimation.isTouch?this.slider.sliderElement.one("mainAnimationComplete",e.proxy(this.play,this)):this.play()},s.prototype.onMainAnimationWillRevertTo=function(e,t,i){this.lastTween=this.tween,this.tween=!1},s.prototype.onResize=function(e,t){for(var i=0;i<this.tweens.length;i++){var s=this.tweens[i];s&&(s==this.tween?(s.pause(0),this.tween=this.tweens[i]=this.getAnimation(i,this.images[i],t),this.playFirst||!this.isFirst?this.addVisiblePlay():this.tween.progress(1)):this.tweens[i]=this.getAnimation(i,this.images[i],t))}},s.prototype.getAnimation=function(t,i,s){var a=this.parameters.data,l=this.parameters.speed,h=this.parameters.strength;if(this.slider.slides[t].postBackgroundAnimation){var d=this.slider.slides[t].postBackgroundAnimation;a=d.data,l=d.speed,h=d.strength}if(!a)return!1;var p=e.extend(!0,{},a.animations[Math.floor(Math.random()*a.animations.length)]);"undefined"==typeof p.from.transformOrigin&&(p.from.transformOrigin=a.transformOrigin),(n2const.isFirefox||n2const.isIE<=11)&&NextendTween.set(i.$background.parent(),{rotationZ:"0.001deg"}),NextendTween.set(i.$background,{transformOrigin:p.from.transformOrigin,backfaceVisibility:"hidden",transformStyle:"flat",overflow:"hidden"}),p.to.paused=!0;for(var t=0;t<p.strength.length;t++){var u=p.strength[t];"scale"==u?(p.from.scale=1+(p.from.scale-1)*o[h],p.to.scale=1+(p.to.scale-1)*o[h]):(p.from[u]*=o[h],p.to[u]*=o[h])}return"undefined"!=typeof p.from.x&&(p.from.x*=s.slideW),"undefined"!=typeof p.from.y&&(p.from.y*=s.slideH),"undefined"!=typeof p.to.x&&(p.to.x*=s.slideW),"undefined"!=typeof p.to.y&&(p.to.y*=s.slideH),new n(i.$background,r[l],p.from,p.to)},s.prototype.prepareToSwitchSlide=function(e,t){this.tweens[e.index]?(this.mainAnimation.hasBackgroundAnimation()&&this.tweens[e.index].pause(),this.lastTween=this.tweens[e.index]):this.lastTween=!1,this.tweens[t.index]?this.tween=this.tweens[t.index]:this.tween=!1},s.prototype.play=function(){this.visibleAddedButNotPlayed=!1,!this.tween||this.playOnce&&0!=this.tween.progress()||this.tween.play()},s.prototype.stop=function(){!this.playOnce&&this.lastTween&&this.lastTween.pause(0)},n.prototype.pause=function(e){0==e&&(this.$el.addClass("n2noselftransition"),NextendTween.set(this.$el,this.from))},n.prototype.play=function(){this.$el.removeClass("n2noselftransition"),this.startTime=n2.now(),NextendTween.set(this.$el,this.to)},n.prototype.progress=function(e){return-1===this.startTime?0:(n2.now()-this.startTime)/this.duration/1e3},s}),N2Require("SmartSliderControlAutoplay",[],[],function(e,t,i){"use strict";function s(t,i){this._paused=!0,this._wait=!1,this._disabled=!1,this._currentCount=0,this._progressEnabled=!1,this.timeline=null,this.hasButton=!1,this.deferredsMediaPlaying=null,this.deferredMouseLeave=null,this.deferredMouseEnter=null,this.mainAnimationDeferred=!0,this.autoplayDeferred=null,this.slider=t,this.parameters=e.extend({enabled:0,start:1,duration:8e3,autoplayToSlide:0,autoplayToSlideIndex:-1,allowReStart:0,pause:{mouse:"enter",click:!0,mediaStarted:!0},resume:{click:0,mouse:0,mediaEnded:!0}},i),this.parameters.enabled?(this.parameters.duration/=1e3,t.controls.autoplay=this,this.deferredsExtraPlaying={},this.slider.visible(e.proxy(this.onReady,this))):this.disable(),t.controls.autoplay=this}var n=!1;return s.prototype.onReady=function(){this.autoplayDeferred=e.Deferred();var t={_progress:0};this.timeline=NextendTween.to(t,this.getSlideDuration(this.slider.currentSlide.index),{_progress:1,paused:!0,onComplete:e.proxy(this.next,this)
}),this._progressEnabled&&this.enableProgress();var i=this.slider.sliderElement;if(this.parameters.start?this.continueAutoplay():this.pauseAutoplayExtraPlaying(null,"autoplayButton"),i.on("mainAnimationStart.autoplay",e.proxy(this.onMainAnimationStart,this)),"0"!=this.parameters.pause.mouse)switch(i.on("touchend.autoplay",function(){n=!0,setTimeout(function(){n=!1},300)}),this.parameters.pause.mouse){case"enter":i.on("mouseenter.autoplay",e.proxy(this.pauseAutoplayMouseEnter,this)),i.on("mouseleave.autoplay",e.proxy(this.pauseAutoplayMouseEnterEnded,this));break;case"leave":i.on("mouseleave.autoplay",e.proxy(this.pauseAutoplayMouseLeave,this)),i.on("mouseenter.autoplay",e.proxy(this.pauseAutoplayMouseLeaveEnded,this))}if(this.parameters.pause.click&&!this.parameters.resume.click?i.on("universalclick.autoplay",e.proxy(this.pauseAutoplayUniversal,this)):!this.parameters.pause.click&&this.parameters.resume.click?i.on("universalclick.autoplay",e.proxy(function(e){this.pauseAutoplayExtraPlayingEnded(e,"autoplayButton")},this)):this.parameters.pause.click&&this.parameters.resume.click&&i.on("universalclick.autoplay",e.proxy(function(e){this._paused?this.pauseAutoplayExtraPlayingEnded(e,"autoplayButton"):this.pauseAutoplayUniversal(e)},this)),this.parameters.pause.mediaStarted&&(this.deferredsMediaPlaying={},i.on("mediaStarted.autoplay",e.proxy(this.pauseAutoplayMediaPlaying,this)),i.on("mediaEnded.autoplay",e.proxy(this.pauseAutoplayMediaPlayingEnded,this))),"0"!=this.parameters.resume.mouse)switch(this.parameters.resume.mouse){case"enter":this.hasButton&&"0"!=this.parameters.pause.mouse?i.on("mouseenter.autoplay",e.proxy(this.continueAutoplay,this)):i.on("mouseenter.autoplay",e.proxy(function(e){this.pauseAutoplayExtraPlayingEnded(e,"autoplayButton")},this));break;case"leave":this.hasButton&&"0"!=this.parameters.pause.mouse?i.on("mouseleave.autoplay",e.proxy(this.continueAutoplay,this)):i.on("mouseleave.autoplay",e.proxy(function(e){this.pauseAutoplayExtraPlayingEnded(e,"autoplayButton")},this))}this.parameters.resume.mediaEnded&&i.on("mediaEnded.autoplay",e.proxy(this.continueAutoplay,this)),i.on("autoplayExtraWait.autoplay",e.proxy(this.pauseAutoplayExtraPlaying,this)),i.on("autoplayExtraContinue.autoplay",e.proxy(this.pauseAutoplayExtraPlayingEnded,this)),this.slider.sliderElement.on("mainAnimationComplete.autoplay",e.proxy(this.onMainAnimationComplete,this))},s.prototype.enableProgress=function(){this.timeline&&this.timeline.eventCallback("onUpdate",e.proxy(this.onUpdate,this)),this._progressEnabled=!0},s.prototype.onMainAnimationStart=function(t,i,s,n,r){this.mainAnimationDeferred=e.Deferred(),this.deActivate(0,"wait");for(var o in this.deferredsMediaPlaying)this.deferredsMediaPlaying[o].resolve()},s.prototype.onMainAnimationComplete=function(e,t,i,s){this.parameters.autoplayToSlideIndex>=0&&this.parameters.autoplayToSlideIndex==this.slider.currentRealSlide.index+1&&this.limitAutoplay(),this.timeline.duration(this.getSlideDuration(s)),this.mainAnimationDeferred.resolve(),this.continueAutoplay()},s.prototype.getSlideDuration=function(e){var t=this.slider.realSlides[this.slider.getRealIndex(e)],i=t.minimumSlideDuration;return.3>i&&i<this.parameters.duration&&(i=this.parameters.duration),i},s.prototype.continueAutoplay=function(t){"pending"==this.autoplayDeferred.state()&&this.autoplayDeferred.reject();var i=[];for(var s in this.deferredsExtraPlaying)i.push(this.deferredsExtraPlaying[s]);for(var s in this.deferredsMediaPlaying)i.push(this.deferredsMediaPlaying[s]);this.deferredMouseEnter&&i.push(this.deferredMouseEnter),this.deferredMouseLeave&&i.push(this.deferredMouseLeave),i.push(this.mainAnimationDeferred),this.autoplayDeferred=e.Deferred(),this.autoplayDeferred.done(e.proxy(this._continueAutoplay,this)),e.when.apply(e,i).done(e.proxy(function(){"pending"==this.autoplayDeferred.state()&&this.autoplayDeferred.resolve()},this))},s.prototype._continueAutoplay=function(){!this._paused&&!this._wait||this._disabled||(this._paused=!1,this._wait=!1,this.slider.sliderElement.triggerHandler("autoplayStarted"),1==this.timeline.progress()&&this.timeline.pause(0,!1),this.startTimeout(null))},s.prototype.pauseAutoplayUniversal=function(e){this.pauseAutoplayExtraPlaying(e,"autoplayButton"),this.deActivate(null,"pause")},s.prototype.pauseAutoplayMouseEnter=function(){n||(this.autoplayDeferred.reject(),this.deferredMouseEnter=e.Deferred(),this.deActivate(null,"leave"==this.parameters.resume.mouse?"wait":"pause"))},s.prototype.pauseAutoplayMouseEnterEnded=function(){this.deferredMouseEnter&&this.deferredMouseEnter.resolve()},s.prototype.pauseAutoplayMouseLeave=function(){this.autoplayDeferred.reject(),this.deferredMouseLeave=e.Deferred(),this.deActivate(null,"enter"==this.parameters.resume.mouse?"wait":"pause")},s.prototype.pauseAutoplayMouseLeaveEnded=function(){this.deferredMouseLeave&&this.deferredMouseLeave.resolve()},s.prototype.pauseAutoplayMediaPlaying=function(t,i){"undefined"!=typeof this.deferredsMediaPlaying[i]&&this.autoplayDeferred.reject(),this.deferredsMediaPlaying[i]=e.Deferred(),this.deActivate(null,"wait")},s.prototype.pauseAutoplayMediaPlayingEnded=function(e,t){"undefined"!=typeof this.deferredsMediaPlaying[t]&&(this.autoplayDeferred.reject(),this.deferredsMediaPlaying[t].resolve(),delete this.deferredsMediaPlaying[t])},s.prototype.pauseAutoplayExtraPlaying=function(t,i){"undefined"!=typeof this.deferredsExtraPlaying[i]&&this.autoplayDeferred.reject(),this.deferredsExtraPlaying[i]=e.Deferred(),this.deActivate(null,"pause")},s.prototype.pauseAutoplayExtraPlayingEnded=function(e,t){"undefined"!=typeof this.deferredsExtraPlaying[t]&&(this.autoplayDeferred.reject(),this.deferredsExtraPlaying[t].resolve(),delete this.deferredsExtraPlaying[t]),this.continueAutoplay()},s.prototype.deActivate=function(e,t){"pause"==t?this._paused||(this._paused=!0,0!==e&&this.slider.sliderElement.triggerHandler("autoplayPaused")):"wait"==t&&(this._wait||(this._wait=!0,0!==e&&this.slider.sliderElement.triggerHandler("autoplayWait"))),this.timeline&&this.timeline.pause(e,!1)},s.prototype.disable=function(){this.deActivate(0,"pause"),this.slider.sliderElement.triggerHandler("autoplayPaused"),this.slider.sliderElement.triggerHandler("autoplayDisabled"),this.slider.sliderElement.off(".autoplay"),this._disabled=!0},s.prototype.startTimeout=function(e){this._paused||this._disabled||this.timeline.play(e)},s.prototype.next=function(){this.timeline.pause(),this._currentCount++,(this.parameters.autoplayToSlide>0&&this._currentCount>=this.parameters.autoplayToSlide||this.parameters.autoplayToSlideIndex>=0&&this.parameters.autoplayToSlideIndex==this.slider.currentRealSlide.index+2)&&this.limitAutoplay(),this.slider.nextCarousel(!0)},s.prototype.limitAutoplay=function(){this.parameters.allowReStart?(this._currentCount=0,this.slider.sliderElement.triggerHandler("autoplayExtraWait","autoplayButton")):this.disable()},s.prototype.onUpdate=function(){this.slider.sliderElement.triggerHandler("autoplay",this.timeline.progress())},s}),N2Require("SmartSliderControlFullscreen",[],[],function(e,t,i){"use strict";function s(t,i,s){this.slider=t,this.responsive=this.slider.responsive,this._type=this.responsive.parameters.type,this._forceFull=this.responsive.parameters.forceFull,this.forceFullpage="auto"==this._type||"fullwidth"==this._type||"fullpage"==this._type,this.forceFullpage&&(this._upscale=this.responsive.parameters.upscale,this._minimumHeightRatio=e.extend({},this.responsive.parameters.minimumHeightRatio),this._maximumHeightRatio=e.extend({},this.responsive.parameters.maximumHeightRatio)),this.isFullScreen=!1,this.fullParent=this.slider.sliderElement.closest(".n2-ss-align"),this.browserSpecific={};var n=this.slider.sliderElement[0];n.requestFullscreen?(this.browserSpecific.requestFullscreen="requestFullscreen",this.browserSpecific.event="fullscreenchange"):n.msRequestFullscreen?(this.browserSpecific.requestFullscreen="msRequestFullscreen",this.browserSpecific.event="MSFullscreenChange"):n.mozRequestFullScreen?(this.browserSpecific.requestFullscreen="mozRequestFullScreen",this.browserSpecific.event="mozfullscreenchange"):n.webkitRequestFullscreen?(this.browserSpecific.requestFullscreen="webkitRequestFullscreen",this.browserSpecific.event="webkitfullscreenchange"):(this.browserSpecific.requestFullscreen="nextendRequestFullscreen",this.browserSpecific.event="nextendfullscreenchange",this.fullParent[0][this.browserSpecific.requestFullscreen]=e.proxy(function(){this.fullParent.css({position:"fixed",left:0,top:0,width:"100%",height:"100%",backgroundColor:"#000",zIndex:1e6}),document.fullscreenElement=this.fullParent[0],this.triggerEvent(document,this.browserSpecific.event),e(window).trigger("resize")},this)),document.exitFullscreen?this.browserSpecific.exitFullscreen="exitFullscreen":document.msExitFullscreen?this.browserSpecific.exitFullscreen="msExitFullscreen":document.mozCancelFullScreen?this.browserSpecific.exitFullscreen="mozCancelFullScreen":document.webkitExitFullscreen?this.browserSpecific.exitFullscreen="webkitExitFullscreen":(this.browserSpecific.exitFullscreen="nextendExitFullscreen",this.fullParent[0][this.browserSpecific.exitFullscreen]=e.proxy(function(){this.fullParent.css({position:"",left:"",top:"",width:"",height:"",backgroundColor:"",zIndex:""}),document.fullscreenElement=null,this.triggerEvent(document,this.browserSpecific.event)},this)),document.addEventListener(this.browserSpecific.event,e.proxy(this.fullScreenChange,this))}return s.prototype.switchState=function(){this.isFullScreen=!this.isFullScreen,this.isFullScreen?this._fullScreen():this._normalScreen()},s.prototype.requestFullscreen=function(){return this.isFullScreen?!1:(this.isFullScreen=!0,this._fullScreen(),!0)},s.prototype.exitFullscreen=function(){return this.isFullScreen?(this.isFullScreen=!1,this._normalScreen(),!0):!1},s.prototype.triggerEvent=function(e,t){var i;document.createEvent?(i=document.createEvent("HTMLEvents"),i.initEvent(t,!0,!0)):document.createEventObject&&(i=document.createEventObject(),i.eventType=t),i.eventName=t,e.dispatchEvent?e.dispatchEvent(i):e.fireEvent&&htmlEvents["on"+t]?e.fireEvent("on"+i.eventType,i):e[t]?e[t]():e["on"+t]&&e["on"+t]()},s.prototype._fullScreen=function(){this.forceFullpage&&(this.responsive.parameters.type="fullpage",this.responsive.parameters.upscale=!0,this.responsive.parameters.forceFull=!1,this._marginLeft=this.responsive.containerElement[0].style.marginLeft,this.responsive.containerElement.css(nextend.rtl.marginLeft,0)),this.fullParent.css({width:"100%",height:"100%",backgroundColor:e("body").css("background-color")}).addClass("n2-ss-in-fullscreen"),this.fullParent.get(0)[this.browserSpecific.requestFullscreen]()},s.prototype._normalScreen=function(){document[this.browserSpecific.exitFullscreen]?document[this.browserSpecific.exitFullscreen]():this.fullParent[0][this.browserSpecific.exitFullscreen]&&this.fullParent[0][this.browserSpecific.exitFullscreen]()},s.prototype.fullScreenChange=function(){this.isDocumentInFullScreenMode()?(this.slider.sliderElement.triggerHandler("n2FullScreen"),e("html").addClass("n2-in-fullscreen"),this.isFullScreen=!0,e(window).trigger("resize")):this.forceFullpage&&(this.responsive.parameters.type=this._type,this.responsive.parameters.upscale=this._upscale,this.responsive.parameters.forceFull=this._forceFull,this.responsive.parameters.minimumHeightRatio=this._minimumHeightRatio,this.responsive.parameters.maximumHeightRatio=this._maximumHeightRatio,this.responsive.containerElement.css(nextend.rtl.marginLeft,this._marginLeft),this.fullParent.css({width:"",height:"",backgroundColor:""}).removeClass("n2-ss-in-fullscreen"),e("html").removeClass("n2-in-fullscreen"),e(window).trigger("resize"),this.isFullScreen=!1,this.slider.sliderElement.triggerHandler("n2ExitFullScreen"))},s.prototype.isDocumentInFullScreenMode=function(){return document.fullscreenElement&&null!==document.fullscreenElement||document.msFullscreenElement&&null!==document.msFullscreenElement||document.mozFullScreen||document.webkitIsFullScreen},s}),N2Require("SmartSliderControlKeyboard",[],[],function(e,t,i){"use strict";function s(t,i,n){this.slider=t,this.parameters=e.extend({},n),"vertical"==i?this.parseEvent=s.prototype.parseEventVertical:this.parseEvent=s.prototype.parseEventHorizontal,e(document).on("keydown",e.proxy(this.onKeyDown,this)),t.controls.keyboard=this}return s.prototype.isSliderOnScreen=function(){var t=this.slider.sliderElement.offset(),i=e(window).scrollTop(),s=this.slider.sliderElement.height();return t.top+.5*s>=i&&t.top-.5*s<=i+e(window).height()},s.prototype.onKeyDown=function(e){e.target.tagName.match(/BODY|DIV|IMG/)&&this.isSliderOnScreen()&&(e=e||window.event,this.parseEvent.call(this,e)&&(e.preventDefault(),e.stopImmediatePropagation()))},s.prototype.parseEventHorizontal=function(e){switch(e.keyCode){case 39:return this.slider[nextend.rtl.next](),!0;case 37:return this.slider[nextend.rtl.previous](),!0;default:return!1}},s.prototype.parseEventVertical=function(e){switch(e.keyCode){case 40:return this.slider.next(),!0;case 38:return this.slider.previous(),!0;default:return!1}},s}),N2Require("SmartSliderControlScroll",[],[],function(e,t,i){"use strict";function s(t){this.preventScroll=!1,this._preventScrollTimeout=null,this.slider=t,t.sliderElement.on("DOMMouseScroll mousewheel",e.proxy(this.onMouseWheel,this)),t.controls.scroll=this}return s.prototype.onMouseWheel=function(e){if(this.preventScroll)this.preventScrollTimeout(e);else{var t=!1;e.originalEvent&&(e.originalEvent.wheelDelta&&(t=e.originalEvent.wheelDelta/-1<0),e.originalEvent.deltaY&&(t=e.originalEvent.deltaY<0),e.originalEvent.detail&&(t=e.originalEvent.detail<0)),t?this.slider.previous()&&this.preventScrollTimeout(e):this.slider.next()&&this.preventScrollTimeout(e)}},s.prototype.preventScrollTimeout=function(t){null!==this._preventScrollTimeout&&clearTimeout(this._preventScrollTimeout),this.preventScroll=!0,t.preventDefault(),this._preventScrollTimeout=setTimeout(e.proxy(function(){this.preventScroll=!1,this._preventScrollTimeout=null},this),400)},s}),N2Require("SmartSliderControlTilt",[],[],function(e,t,i){"use strict";function s(t,i){return"undefined"==typeof window.DeviceOrientationEvent||"undefined"==typeof window.orientation?"Not supported":(this.timeout=null,this.slider=t,this.parameters=e.extend({duration:2e3},i),this.orientationchange(),window.addEventListener("orientationchange",e.proxy(this.orientationchange,this)),window.addEventListener("deviceorientation",e.proxy(this.handleOrientation,this),!0),void(t.controls.tilt=this))}return s.prototype.orientationchange=function(){switch(window.orientation){case-90:case 90:this.parseEvent=s.prototype.parseEventHorizontalLandscape;break;default:this.parseEvent=s.prototype.parseEventHorizontal}},s.prototype.clearTimeout=function(){this.timeout=null},s.prototype.handleOrientation=function(t){null==this.timeout&&this.parseEvent.call(this,t)&&(this.timeout=setTimeout(e.proxy(this.clearTimeout,this),this.parameters.duration),t.preventDefault())},s.prototype.parseEventHorizontal=function(e){return e.gamma>10?(this.slider.next(),!0):e.gamma<-10?(this.slider.previous(),!0):!1},s.prototype.parseEventHorizontalLandscape=function(e){return e.beta<-10?(this.slider.next(),!0):e.beta>10?(this.slider.previous(),!0):!1},s}),N2Require("SmartSliderControlTouch",[],[],function(e,t,i){"use strict";function s(t,i,s){this.currentAnimation=null,this.slider=t,this._animation=t.mainAnimation,this.parameters=e.extend({fallbackToMouseEvents:!0},s),this.swipeElement=this.slider.sliderElement.find("> .n2-ss-swipe-element"),"vertical"==i?this.setVertical():"horizontal"==i&&this.setHorizontal();var n=e.proxy(function(){var e=this;this._animation.isNoAnimation?N2EventBurrito(this.swipeElement.get(0),{mouse:this.parameters.fallbackToMouseEvents,axis:"horizontal"==i?"x":"y",start:function(){r=!1},move:function(t,i,s,n,o){var a=e._direction.measure(s);if(!o&&"unknown"!=a&&null===e.currentAnimation){if("ended"!=e._animation.state)return!1;e.distance=[0],e.swipeElement.addClass("n2-grabbing"),e.currentAnimation={direction:a};var l=e.slider.isChangePossible(e._direction[a]);if(!l)return e.currentAnimation=null,!1}if(e.currentAnimation){var h=e._direction.get(s,e.currentAnimation.direction);if(e.logDistance(h),(r||Math.abs(h)>e._direction.minDistance)&&t.cancelable)return r=!0,!0}return!1},end:function(t,i,s,n,r){if(null!==e.currentAnimation){var o=r?0:e.measureRealDirection();o&&e.slider[e._direction[e.currentAnimation.direction]](),e.swipeElement.removeClass("n2-grabbing"),e.currentAnimation=null}Math.abs(s.x)<10&&Math.abs(s.y)<10?e.onTap(t):nextend.preventClick()}}):N2EventBurrito(this.swipeElement.get(0),{mouse:this.parameters.fallbackToMouseEvents,axis:"horizontal"==i?"x":"y",start:function(e,t){r=!1},move:function(t,i,s,n,o){var a=e._direction.measure(s);if(!o&&"unknown"!=a&&null===e.currentAnimation){if("ended"!=e._animation.state)return!1;e.distance=[0],e.swipeElement.addClass("n2-grabbing"),e._animation.setTouch(e._direction.axis),e.currentAnimation={direction:a,percent:0};var l=e.slider[e._direction[a]](!1);if(!l)return e._animation.setTouch(!1),e.currentAnimation=null,!1}if(e.currentAnimation){var h=e._direction.get(s,e.currentAnimation.direction);if(e.logDistance(h),e.currentAnimation.percent<1){var d=Math.max(-.99999,Math.min(.99999,h/e.slider.dimensions.slider[e._property]));e.currentAnimation.percent=d,e._animation.setTouchProgress(d)}if((r||Math.abs(h)>e._direction.minDistance)&&t.cancelable)return r=!0,!0}return!1},end:function(t,i,s,n,r){if(null!==e.currentAnimation){var o=r?0:e.measureRealDirection(),a=e._animation.timeline.progress();1!=a&&e._animation.setTouchEnd(o,e.currentAnimation.percent,s.time),e.swipeElement.removeClass("n2-grabbing"),e._animation.setTouch(!1),e.currentAnimation=null}Math.abs(s.x)<10&&Math.abs(s.y)<10?e.onTap(t):nextend.preventClick()}})},this);if(navigator.userAgent.toLowerCase().indexOf("android")>-1){var o=this.swipeElement.parent();1!=o.css("opacity")?this.swipeElement.parent().one("transitionend",n):n()}else n();this.parameters.fallbackToMouseEvents||this.swipeElement.on("click",e.proxy(this.onTap,this)),this.parameters.fallbackToMouseEvents&&this.swipeElement.addClass("n2-grab"),t.controls.touch=this}var n=window.navigator.pointerEnabled||window.navigator.msPointerEnabled,r=!1,o=!1;return s.prototype.setHorizontal=function(){this._property="width",this._direction={left:nextend.rtl.next,right:nextend.rtl.previous,up:null,down:null,axis:"horizontal",minDistance:10,measure:function(e){return!r&&Math.abs(e.x)<10||0==e.x||Math.abs(e.x)<Math.abs(e.y)?"unknown":e.x<0?"left":"right"},get:function(e,t){return"left"==t?-e.x:e.x}},n&&(this.swipeElement.css("-ms-touch-action","pan-y"),this.swipeElement.css("touch-action","pan-y"))},s.prototype.setVertical=function(){this._property="height",this._direction={left:null,right:null,up:"next",down:"previous",axis:"vertical",minDistance:1,measure:function(e){return!r&&Math.abs(e.y)<1||0==e.y||Math.abs(e.y)<Math.abs(e.x)?"unknown":e.y<0?"up":"down"},get:function(e,t){return"up"==t?-e.y:e.y}},n&&(this.swipeElement.css("-ms-touch-action","pan-x"),this.swipeElement.css("touch-action","pan-x"))},s.prototype.logDistance=function(e){this.distance.length>3&&this.distance.shift(),this.distance.push(e)},s.prototype.measureRealDirection=function(){var e=this.distance[0],t=this.distance[this.distance.length-1];return t>=0&&e>t||0>t&&t>e?0:1},s.prototype.onTap=function(t){o||(e(t.target).trigger("n2click"),o=!0,setTimeout(function(){o=!1},500))},s}),N2Require("FrontendLayerAnimations",[],[],function(e,t,i){function s(e,t){this.status=o.NOT_INITIALIZED,this.inStatus=a.NOT_INITIALIZED,this.loopStatus=l.NOT_INITIALIZED,this.outStatus=h.NOT_INITIALIZED,this.currentZero=d,this.repeatable=0,this.transformOriginIn="50% 50% 0",this.transformOriginOut="50% 50% 0",this.startDelay=0,this.skipLoop=0,this.$layer=e,this.$animatableElement=t,e.data("LayerAnimation",this),NextendTween.set(this.$layer.parent(),{perspective:r})}function n(e,t,i,s,n,r,o){this.status=p.NOT_INITIALIZED,this.single=!1,this.transformOrigin="50% 50% 0",this._counter=0,this.inAnimation=null,this.timeline=null,this.outAnimation=null,this.layers=e,this.$layer=t,this.$animatableElement=i,this.animations=s,this.timelineMode=o,this.transformOrigin=s.transformOriginLoop.split("|*|").join("% ")+"px",this.repeatCount=s.repeatCount,0==this.repeatCount&&"linear"==o&&(this.repeatCount=1),this.repeatStartDelay=Math.max(0,s.repeatStartDelay),this.repeatSelfOnly=s.loopRepeatSelfOnly,this.refresh(n,r)}var r=1e3,o={NOT_INITIALIZED:-1,INITIALIZED:1,PLAY_IN_DISABLED:2,PLAY_IN_STARTED:3,PLAY_IN_PAUSED:4,PLAY_IN_ENDED:5,PLAY_LOOP_STARTED:6,PLAY_LOOP_PAUSED:7,PLAY_LOOP_ENDED:8,PLAY_OUT_STARTED:9,PLAY_OUT_PAUSED:10,PLAY_OUT_ENDED:11},a={NOT_INITIALIZED:-1,NO:0,INITIALIZED:1},l={NOT_INITIALIZED:-1,NO:0,INITIALIZED:1},h={NOT_INITIALIZED:-1,NO:0,INITIALIZED:1},d={opacity:1,x:0,y:0,z:0,rotationX:0,rotationY:0,rotationZ:0,scaleX:1,scaleY:1,scaleZ:1,skewX:0,n2blur:0};s.prototype.setLinear=function(t,i,s){this.timelineMode="linear",this.animations=null;var n=t.animations.getData();"object"==typeof n&&(this.animations=e.extend({repeatable:0,"in":[],specialZeroIn:0,transformOriginIn:"50|*|50|*|0",inPlayEvent:"",loop:[],repeatCount:0,repeatStartDelay:0,transformOriginLoop:"50|*|50|*|0",loopPlayEvent:"",loopPauseEvent:"",loopStopEvent:"",loopRepeatSelfOnly:0,out:[],transformOriginOut:"50|*|50|*|0",outPlayEvent:"",instantOut:1},n),this.transformOriginIn=this.animations.transformOriginIn.split("|*|").join("% ")+"px",this.transformOriginOut=this.animations.transformOriginOut.split("|*|").join("% ")+"px",this.repeatable=this.animations.repeatable?1:0,this._fillAnimations(this.animations["in"]),this._fillAnimations(this.animations.loop),this._fillAnimations(this.animations.out));var r=this.linearMode(i,s);return this.status=o.INITIALIZED,r},s.prototype.setEventBased=function(t,i,s){this.slide=t,this.timelineMode="event";var n=!1,r=this.$layer.data("animations");1==r||r&&(n=e.parseJSON(Base64.decode(r))),"object"==typeof n?(this.animations=e.extend({repeatable:0,"in":[],specialZeroIn:0,transformOriginIn:"50|*|50|*|0",inPlayEvent:"",loop:[],repeatCount:0,repeatStartDelay:0,transformOriginLoop:"50|*|50|*|0",loopPlayEvent:"",loopPauseEvent:"",loopStopEvent:"",loopRepeatSelfOnly:0,out:[],transformOriginOut:"50|*|50|*|0",outPlayEvent:"",instantOut:1},n),this.transformOriginIn=this.animations.transformOriginIn.split("|*|").join("% ")+"px",this.transformOriginOut=this.animations.transformOriginOut.split("|*|").join("% ")+"px"):this.animations={repeatable:0,"in":[],inPlayEvent:"",loop:[],loopPlayEvent:"",loopPauseEvent:"",loopStopEvent:"",loopRepeatSelfOnly:0,out:[],outPlayEvent:""},t.$element.on({"layerSetZero.n2-ss-animations":e.proxy(this.setZero,this),"layerSetZeroAll.n2-ss-animations":e.proxy(this.setZeroAll,this),"layerAnimationSetStart.n2-ss-animations":e.proxy(this.start,this),"layerPause.n2-ss-animations":e.proxy(this.pause,this),"layerReset.n2-ss-animations":e.proxy(this.reset,this),"beforeMainSwitch.n2-ss-animations":e.proxy(this.beforeMainSwitch,this)}),this.repeatable=this.animations.repeatable?1:0,this.repeatable&&""==this.animations.inPlayEvent&&(this.animations.inPlayEvent="layerAnimationPlayIn,OutComplete",""==this.animations.loopPlayEvent&&(this.animations.loopPlayEvent="InComplete"),""==this.animations.outPlayEvent&&(this.animations.outPlayEvent="LoopComplete")),this.animations.instantOut&&(this.animations.outPlayEvent="LoopComplete"),""==this.animations.inPlayEvent&&(this.animations.inPlayEvent="layerAnimationPlayIn"),""==this.animations.loopPlayEvent&&(this.animations.loopPlayEvent="InComplete"),this._fillAnimations(this.animations["in"]),this._fillAnimations(this.animations.loop),this._fillAnimations(this.animations.out),this.eventDrivenMode(i,s),this.status=o.INITIALIZED},s.prototype._fillAnimations=function(t){for(var i=0;i<t.length;i++)t[i]=e.extend({name:"Animation",duration:.8,delay:0,ease:"easeOutCubic",opacity:1,x:0,y:0,z:0,rotationX:0,rotationY:0,rotationZ:0,scaleX:1,scaleY:1,scaleZ:1,skewX:0,n2blur:0},t[i])},s.prototype.eventDrivenMode=function(t,i){this.subscribeEvent("mainAnimationStartIn",e.proxy(this.resume,this)),this.inTimeline=new NextendTimeline({paused:1,onComplete:e.proxy(this.inComplete,this)}),this.animations["in"]&&this.animations["in"].length&&this.buildTimelineIn(this.inTimeline,this.animations["in"],t,i,0),this.$layer.triggerHandler("layerExtendTimelineIn",[this.inTimeline,0]),this.inTimeline.totalDuration()?(this.inTimeline.set(this.$animatableElement,{transformOrigin:this.transformOriginIn,immediateRender:!0},0),this.subscribeEvent(this.animations.inPlayEvent,e.proxy(this.playIn,this)),this.inStatus=a.INITIALIZED):(this.subscribeEvent(this.animations.inPlayEvent,e.proxy(this.playIn,this)),this.inStatus=a.NO,this.inTimeline=null),this.animations.loop&&0!=this.animations.loop.length?(this.loop=new n(this,this.$layer,this.$animatableElement,this.animations,t,i,this.timelineMode),this.subscribeEvent(this.animations.loopPlayEvent,e.proxy(this.playLoop,this)),this.loopStatus=l.INITIALIZED):(this.loopStatus=l.NO,this.subscribeEvent("InComplete",e.proxy(this.loopComplete,this))),this.outTimeline=new NextendTimeline({paused:1,onComplete:e.proxy(this.outComplete,this)}),this.animations.out&&this.animations.out.length&&this.buildTimelineOut(this.outTimeline,this.animations.out,t,i,0),this.$layer.triggerHandler("layerExtendTimelineOut",[this.outTimeline,0]),this.outTimeline.totalDuration()?(this.outTimeline.set(this.$animatableElement,{transformOrigin:this.transformOriginOut},0),this.subscribeEvent(this.animations.outPlayEvent,e.proxy(this.playOut,this)),this.outStatus=h.INITIALIZED):(this.subscribeEvent("LoopComplete",e.proxy(this.outComplete,this)),this.outStatus=h.NO,this.outTimeline=null),this.inStatus==a.NO&&this.loopStatus==l.No&&this.outStatus==h.NO&&this.slide.$element.off("n2-ss-animations")},s.prototype.linearMode=function(e,t){if(this.animations){this.linearTimeline=new NextendTimeline({paused:1});var i=0;return this.animations["in"]&&0!=this.animations["in"].length?(this.linearTimeline.set(this.$animatableElement,{transformOrigin:this.transformOriginIn}),this.buildTimelineIn(this.linearTimeline,this.animations["in"],e,t,i),this.inStatus=a.INITIALIZED):this.inStatus=a.NO,this.$layer.triggerHandler("layerExtendTimelineIn",[this.linearTimeline,i]),this.animations.loop&&0!=this.animations.loop.length?new n(this,this.$layer,this.$animatableElement,this.animations,e,t,this.timelineMode):this.loopStatus=l.NO,i=this.linearTimeline.totalDuration(),this.$layer.triggerHandler("layerExtendTimelineOut",[this.linearTimeline,i]),this.animations.out&&0!=this.animations.out.length?(this.linearTimeline.set(this.$animatableElement,{transformOrigin:this.transformOriginOut}),this.buildTimelineOut(this.linearTimeline,this.animations.out,e,t,i),this.outStatus=h.INITIALIZED):this.outStatus=h.NO,!0}var s=this.$layer.triggerHandler("needExtendTimelineIn"),r=this.$layer.triggerHandler("needExtendTimelineOut");if(s||r){this.linearTimeline=new NextendTimeline({paused:1});var i=0;return s&&(this.$layer.triggerHandler("layerExtendTimelineIn",[this.linearTimeline,i]),i=this.linearTimeline.totalDuration()),r&&this.$layer.triggerHandler("layerExtendTimelineOut",[this.linearTimeline,i]),!0}return!1},s.prototype.refresh=function(t,i){this.reset(),this.setZero(),this.inTimeline=new NextendTimeline({paused:1,onComplete:e.proxy(this.inComplete,this)}),this.animations["in"]&&this.animations["in"].length&&this.buildTimelineIn(this.inTimeline,this.animations["in"],t,i,0),this.$layer.triggerHandler("layerExtendTimelineIn",[this.inTimeline,0]),this.inTimeline.totalDuration()?this.inStatus=a.INITIALIZED:this.inTimeline=null,this.animations.loop&&0!=this.animations.loop.length?(this.loop.refresh(t,i),this.loopStatus=l.INITIALIZED):this.loopStatus=l.NO,this.outTimeline=new NextendTimeline({paused:1,onComplete:e.proxy(this.outComplete,this)}),this.animations.out&&this.animations.out.length&&this.buildTimelineOut(this.outTimeline,this.animations.out,t,i,0),this.$layer.triggerHandler("layerExtendTimelineOut",[this.outTimeline,0]),this.outTimeline.totalDuration()?this.outStatus=h.INITIALIZED:(this.outStatus=h.NO,this.outTimeline=null)},s.prototype.setZero=function(){NextendTween.set(this.$animatableElement,e.extend({clearProps:"transform,n2blur"},d)),this.$layer.triggerHandler("AnimationSetZero")},s.prototype.setZeroAll=function(){this.inStatus==a.INITIALIZED&&this.inTimeline.progress(1),this.setZero()},s.prototype.subscribeEvent=function(t,i){for(var s=t.split(","),n=0;n<s.length;n++)if(s[n].length){var r=s[n].split("."),o=s[n];switch(r[0]){case"InComplete":case"LoopComplete":case"OutComplete":case"LoopRoundComplete":case"LayerClick":case"LayerMouseEnter":case"LayerMouseLeave":o.match(/^Layer/)&&(o=o.replace(/^Layer/,"").toLowerCase()),this.$layer.on(o,i);break;case"mainAnimationStartIn":case"layerAnimationPlayIn":case"SlideMouseEnter":case"SlideMouseLeave":case"SlideClick":o.match(/^Slide/)&&(o=o.replace(/^Slide/,"").toLowerCase()),this.slide.$element.on(o,i);break;case"SliderMouseEnter":case"SliderMouseLeave":case"SliderClick":o.match(/^Slider/)&&(o=o.replace(/^Slider/,"").toLowerCase()),this.slide.slider.sliderElement.on(o,e.proxy(function(t){e.inArray(this.slide,this.slide.slider.getVisibleSlides())>=0&&i()},this));break;default:var a=!1,l={"do":0,cancel:0};this.slide.$element.on(o,function(){l["do"]&&clearTimeout(l["do"]),l["do"]=setTimeout(function(){a||i(),a=!1},50)}),this.slide.$element.on("cancel-"+o,function(){a=!0,l.cancel&&clearTimeout(l.cancel),l.cancel=setTimeout(function(){a=!1},70)})}}},s.prototype.loopEvents=function(t){t?(""!=this.animations.loopPauseEvent&&this.subscribeEvent(this.animations.loopPauseEvent+".n2-ss-loop",e.proxy(function(){this.loop&&this.loop.pause()},this)),""!=this.animations.loopStopEvent&&this.subscribeEvent(this.animations.loopStopEvent+".n2-ss-loop",e.proxy(function(){this.loop&&this.loop.end()},this))):this.$layer.off(".n2-ss-loop")},s.prototype.start=function(){this.outStatus!=h.NO&&(this.inStatus==a.NO&&this.outTimeline.progress(.9999),this.outTimeline.pause(0,!1)),this.inStatus!=a.NO&&this.inTimeline.progress(.9999).pause(0,!1),this.status=o.INITIALIZED},s.prototype.playIn=function(){this.status==o.INITIALIZED?(this.status=o.PLAY_IN_STARTED,this.inStatus!=a.NO?1==this.inTimeline.progress()?this.inTimeline.play(this.startDelay):this.inTimeline.play():this.inComplete()):this.status==o.PLAY_IN_STARTED?this.skipLoop&&(this.skipLoop=0,this.$layer.off("InComplete.n2-instant-out")):this.status==o.PLAY_OUT_STARTED?(this.$layer.one("OutComplete.n2-instant-in",e.proxy(function(){this.playIn()},this)),this.outTimeline.totalDuration(.3)):this.status==o.PLAY_LOOP_STARTED?(this.$layer.one("OutComplete.n2-instant-in",e.proxy(function(){this.playIn()},this)),this.outTimeline.totalDuration(.3)):this.status==o.PLAY_LOOP_ENDED&&(this.$layer.one("OutComplete.n2-instant-in",e.proxy(function(){this.playIn()},this)),this.outTimeline.totalDuration(.3))},s.prototype.inComplete=function(){this.inPlayed=1,this.status=o.PLAY_IN_ENDED,this.$layer.triggerHandler("InComplete")},s.prototype.playLoop=function(){this.status!=o.PLAY_IN_ENDED||this.skipLoop?this.status==o.PLAY_LOOP_STARTED&&this.loop.playIn():(this.status=o.PLAY_LOOP_STARTED,this.loopStatus!=l.NO?(this.$layer.off(".FrontendLayerAnimations").on("_LoopComplete.FrontendLayerAnimations",e.proxy(this.loopComplete,this)),this.loop.playIn()):this.loopComplete())},s.prototype.loopComplete=function(){1!=this.animations.loopRepeatSelfOnly||this.skipLoop?(this.status=o.PLAY_LOOP_ENDED,this.$layer.triggerHandler("LoopComplete")):this.status=o.PLAY_IN_ENDED},s.prototype.playOut=function(){this.status==o.PLAY_IN_STARTED?this.skipLoop||(this.skipLoop=1,this.$layer.one("InComplete.n2-instant-out",e.proxy(function(){this.skipLoop=0,this.loopComplete(),this._playOut();
},this))):this.status==o.PLAY_IN_ENDED?(this.loopComplete(),this._playOut()):this.status==o.PLAY_LOOP_STARTED?(this.$layer.off("OutComplete.n2-instant-in"),this.$layer.one("LoopComplete",e.proxy(this._playOut,this)),this.loop.end()):this.status==o.PLAY_LOOP_ENDED?(this.$layer.off("OutComplete.n2-instant-in"),this._playOut()):this.status==o.PLAY_OUT_STARTED?this.$layer.off("OutComplete.n2-instant-in"):this.$layer.off("OutComplete.n2-instant-in")},s.prototype._playOut=function(){this.status==o.PLAY_LOOP_ENDED&&(this.status=o.PLAY_OUT_STARTED,this.outStatus!=h.NO?1==this.outTimeline.progress()?(this.outTimeline.timeScale(1),this.outTimeline.play(0)):this.outTimeline.play():this.outComplete())},s.prototype.outComplete=function(){!this.repeatable||this.inStatus==a.NO&&this.loopStatus==l.NO&&this.outStatus==a.NO?this.status=o.PLAY_OUT_ENDED:(this.status=o.INITIALIZED,NextendTween.set(this.$animatableElement,{transformOrigin:this.transformOriginIn}),this.loopStatus!=l.NO&&this.loop.replay()),this.$layer.triggerHandler("OutComplete")},s.prototype.beforeMainSwitch=function(e,t){this.status==o.INITIALIZED&&(this.status=o.PLAY_IN_DISABLED),t.push(this.end())},s.prototype.end=function(){if(this.status>o.PLAY_IN_DISABLED&&this.status<o.PLAY_OUT_ENDED){var t=e.Deferred();return this.$layer.one("OutComplete",e.proxy(function(){this.status=o.PLAY_IN_DISABLED,t.resolve()},this)),this.playOut(),t}return!0},s.prototype.reset=function(){switch(this.status){case o.PLAY_OUT_STARTED:this.outTimeline.pause(0);break;case o.PLAY_LOOP_STARTED:this.loop.reset();break;case o.PLAY_IN_STARTED:this.inTimeline.pause(0)}this.status=o.INITIALIZED},s.prototype.pause=function(){switch(this.paused=!0,this.status){case o.INITIALIZED:this.status=o.PLAY_IN_DISABLED;break;case o.PLAY_IN_STARTED:this.status=o.PLAY_IN_PAUSED,this.inTimeline.pause();break;case o.PLAY_LOOP_STARTED:this.status=o.PLAY_LOOP_PAUSED,this.loop.pause();break;case o.PLAY_OUT_STARTED:this.status=o.PLAY_OUT_PAUSED,this.outTimeline.pause()}},s.prototype.resume=function(){this.status==o.PLAY_IN_DISABLED?this.status=o.INITIALIZED:this.status==o.PLAY_IN_PAUSED?(this.status=o.PLAY_IN_STARTED,this.inTimeline.play()):this.status==o.PLAY_LOOP_PAUSED?(this.status=o.PLAY_LOOP_STARTED,this.loop.play()):this.status==o.PLAY_OUT_PAUSED&&(this.status=o.PLAY_OUT_STARTED,this.outTimeline.play())},s.prototype.setCurrentZero=function(){var t=e.extend({},this.currentZero);delete t.delay,delete t.duration,NextendTween.set(this.$animatableElement,t)},s.prototype.buildTimelineIn=function(t,i,s,n,r){if(i=e.extend(!0,[],i),this.animations.specialZeroIn&&i.length>0&&(this.currentZero=i.pop(),delete this.currentZero.name,delete this.currentZero.duration,delete this.currentZero.delay,delete this.currentZero.ease,this.currentZero.x=this.currentZero.x*s,this.currentZero.y=this.currentZero.y*n,this.currentZero.rotationX=-this.currentZero.rotationX,this.currentZero.rotationY=-this.currentZero.rotationY,this.currentZero.rotationZ=-this.currentZero.rotationZ,this.setCurrentZero()),i.length>0){var o=this._buildAnimationChainIn(i,s,n,this.currentZero);if(o.length>0){var a=0;for(this.startDelay=o[a].to.delay,t.fromTo(this.$animatableElement,o[a].duration,o[a].from,o[a].to,0,r),r+=o[a].duration+o[a].to.delay,a++;a<o.length;a++)t.to(this.$animatableElement,o[a].duration,o[a].to,r),r+=o[a].duration+o[a].to.delay}}},s.prototype._buildAnimationChainIn=function(t,i,s,n){for(var r=[{from:n}],o=t.length-1;o>=0;o--){var a=e.extend(!0,{},t[o]),l=a.delay,h=a.duration,d=a.ease;delete a.delay,delete a.duration,delete a.ease,delete a.name;var p=r[0].from;a.x=-a.x*i,a.y=-a.y*s,a.z=-a.z,a.rotationX=-a.rotationX,a.rotationY=-a.rotationY,a.rotationZ=-a.rotationZ,r.unshift({duration:h,from:a,to:e.extend({},p,{ease:d,delay:l})})}return r.pop(),r},s.prototype.buildTimelineOut=function(t,i,s,n,r){i=e.extend(!0,[],i);var o=this._buildAnimationChainOut(i,s,n),a=0;if(o.length>0)for(0!=r?t.to(this.$animatableElement,o[a].duration,o[a].to,r):t.fromTo(this.$animatableElement,o[a].duration,o[a].from,o[a].to,r),r+=o[a].duration+o[a].to.delay,a++;a<o.length;a++)t.to(this.$animatableElement,o[a].duration,o[a].to,r),r+=o[a].duration+o[a].to.delay},s.prototype._buildAnimationChainOut=function(t,i,s){for(var n=[{to:this.currentZero}],r=0;r<t.length;r++){var o=e.extend(!0,{},t[r]),a=o.duration;delete o.duration,delete o.name;var l=e.extend({immediateRender:!1},n[n.length-1].to);delete l.delay,delete l.ease,o.x=o.x*i,o.y=o.y*s,n.push({duration:a,from:l,to:o})}return n.shift(),n};var p={NOT_INITIALIZED:-1,INITIALIZED:1,PLAY_IN_STARTED:2,PLAY_IN_PAUSED:3,PLAY_IN_ENDED:4,PLAY_LOOP_STARTED:5,PLAY_LOOP_PAUSED:6,PLAY_LOOP_ENDED:7,PLAY_OUT_STARTED:8,PLAY_OUT_PAUSED:9,PLAY_OUT_ENDED:10};return n.prototype.refresh=function(t,i){this.timeline=new NextendTimeline({paused:!0}),this.buildTimelineLoop(e.extend(!0,[],this.animations.loop),t,i),this.status=p.INITIALIZED},n.prototype.playIn=function(){if(this.status==p.INITIALIZED||this.status==p.PLAY_OUT_ENDED)if(NextendTween.set(this.$animatableElement,{transformOrigin:this.transformOrigin}),this.single)this.status=p.PLAY_IN_ENDED,this.timeline.delay(this.repeatStartDelay),this.playLoop();else{this.status=p.PLAY_IN_STARTED;var t=e.extend({},this.zero.from);t.delay=this.repeatStartDelay,t.onComplete=e.proxy(function(){this.status=p.PLAY_IN_ENDED,this.playLoop()},this),this.inAnimation=NextendTween.to(this.$animatableElement,this.zero.duration/2,t)}else this.play()},n.prototype.playLoop=function(){this.status==p.PLAY_IN_ENDED&&(this.status=p.PLAY_LOOP_STARTED,this._counter=0,this.layers.loopEvents(1),this.timeline.eventCallback("onComplete",e.proxy(function(){this._counter++,this.repeatTimeline()||(this.status=p.PLAY_LOOP_ENDED,this.playOut())},this)),this.timeline.restart(!0))},n.prototype.playOut=function(){if(this.status==p.PLAY_LOOP_ENDED)if(this.single)this.status=p.PLAY_OUT_ENDED,this.$layer.triggerHandler("_LoopComplete");else{this.status=p.PLAY_OUT_STARTED;var t=e.extend({},this.layers.currentZero);t.onComplete=e.proxy(function(){this.status=p.PLAY_OUT_ENDED,this.$layer.triggerHandler("_LoopComplete")},this),this.outAnimation=NextendTween.to(this.$animatableElement,this.zero.duration/2,t)}},n.prototype.repeatTimeline=function(){return 0==this.repeatCount||this._counter<this.repeatCount?(this.timeline.restart(),this.$layer.triggerHandler("LoopRoundComplete"),!0):!1},n.prototype.pause=function(){this.status==p.PLAY_IN_STARTED?(this.status=p.PLAY_IN_PAUSED,this.inAnimation.pause()):this.status==p.PLAY_LOOP_STARTED?(this.status=p.PLAY_LOOP_PAUSED,this.timeline.pause()):this.status==p.PLAY_OUT_STARTED&&(this.status=p.PLAY_OUT_PAUSED,this.outAnimation.pause())},n.prototype.play=function(){this.status==p.PLAY_IN_PAUSED?(this.status=p.PLAY_IN_STARTED,this.inAnimation.play()):this.status==p.PLAY_LOOP_PAUSED?(this.status=p.PLAY_LOOP_STARTED,this.timeline.play()):this.status==p.PLAY_OUT_PAUSED&&(this.status=p.PLAY_OUT_STARTED,this.outAnimation.play())},n.prototype.reset=function(){this.outAnimation&&this.outAnimation.pause(0),this.timeline.pause(0),this.inAnimation&&this.inAnimation.pause(0),this.status=p.INITIALIZED},n.prototype.end=function(){var t=e.Deferred();if(this.status==p.PLAY_OUT_ENDED)return this.status=p.INITIALIZED,t.resolve(),t;switch(this.$layer.one("_LoopComplete",e.proxy(function(){this.status=p.INITIALIZED,t.resolve()},this)),this.timeline.eventCallback("onComplete",e.proxy(function(){this._counter++,0!=this.repeatCount&&this.repeatTimeline()||(this.status=p.PLAY_LOOP_ENDED,this.playOut())},this)),this.status){case p.PLAY_OUT_PAUSED:this.outAnimation.play();break;case p.PLAY_IN_PAUSED:this.inAnimation.play();break;case p.PLAY_LOOP_PAUSED:this.timeline.play()}return t},n.prototype.buildTimelineLoop=function(t,i,s){var n=this._buildAnimationChainLoop(t,i,s);if(this.zero=e.extend(!0,{},n[0]),"linear"==this.timelineMode){if(this.timeline.delay(this.repeatStartDelay),this.timeline.set(this.$animatableElement,{transformOrigin:this.transformOrigin}),!this.single){var r=e.extend({},this.zero.from);this.timeline.to(this.$animatableElement,this.zero.duration/2,r)}var o=this.repeatCount;1>o&&(o=1);for(var a=0;o>a;a++)for(var l=0;l<n.length;l++)this.timeline.fromTo(this.$animatableElement,n[l].duration,e.extend({immediateRender:!1},n[l].from),e.extend({},n[l].to));this.single||this.timeline.to(this.$animatableElement,this.zero.duration/2,e.extend({},this.layers.currentZero)),this.layers.linearTimeline.add(this.timeline),this.timeline.paused(!1)}else for(var l=0;l<n.length;l++)this.timeline.to(this.$animatableElement,n[l].duration,n[l].to)},n.prototype._buildAnimationChainLoop=function(t,i,s){if(1==t.length){this.single=!0;var n=e.extend(!0,{},t[0]),r=e.extend({},this.layers.currentZero);r.duration=n.duration,r.ease=n.ease,360!=Math.abs(n.rotationX)&&360!=Math.abs(n.rotationY)&&360!=Math.abs(n.rotationZ)||1!=n.opacity||0!=n.x||0!=n.y||0!=n.z||1!=n.scaleX||1!=n.scaleY||1!=n.scaleZ||0!=n.skewX||0!=n.n2blur?t.push(r):(360==n.rotationX?n.rotationX="+=360":-360==n.rotationX&&(n.rotationX="-=360"),360==n.rotationY?n.rotationY="+=360":-360==n.rotationY&&(n.rotationY="-=360"),360==n.rotationZ?n.rotationZ="+=360":-360==n.rotationZ&&(n.rotationZ="-=360"))}var o=0;delete t[o].name,t[o].x=t[o].x*i,t[o].y=t[o].y*s;var a=[{duration:t[o].duration,from:e.extend({},this.layers.currentZero),to:t[o]}];for(o++;o<t.length;o++){var r=t[o],l=r.duration;delete r.duration,delete r.name;var h=e.extend({},a[a.length-1].to);delete h.delay,delete h.ease,r.x=r.x*i,r.y=r.y*s,a.push({duration:l,from:h,to:r})}return this.single||(a.push({duration:a[0].duration,from:e.extend({},a[a.length-1].to),to:e.extend({},a[0].to)}),a.shift(),delete a[0].from.duration),a},n.prototype.replay=function(){this.status=p.INITIALIZED,this._counter=0},s}),N2Require("SmartSliderBackgroundImage",[],[],function(e,t,i){function s(t,i,s){this.loadStarted=!1,this.loadAllowed=!1,this.width=0,this.height=0,this.slide=t,this.element=i,this.$mask=this.element.find(".n2-ss-slide-background-mask"),this.manager=s,this.loadDeferred=e.Deferred(),this.currentSrc="",this.mode=i.data("mode"),this.opacity=i.data("opacity"),this.blur=i.data("blur"),this.x=i.data("x"),this.y=i.data("y"),this.hasImage=!1,this.$image=this.$mask.find("img"),this.$image.length?(this.hasImage=!0,this.startImageMode()):this.startColorMode()}var n={_windowHeight:0,$window:null,isStarted:!1,elements:[],start:function(){this.isStarted||(this.$window=e(window),this.resize(),this.$window.on({"load.n2-ss-bg-parallax":e.proxy(this.resize,this),"resize.n2-ss-bg-parallax":e.proxy(this.resize,this),"scroll.n2-ss-bg-parallax":e.proxy(this.resize,this)}).on({"scroll.n2-ss-bg-parallax":e.proxy(this.render,this),"resize.n2-ss-bg-parallax":e.proxy(this.render,this)}),this.isStarted=!0)},end:function(){this.isStarted&&(this.$window.off(".n2-ss-bg-parallax"),this.isStarted=!1)},addElement:function(e,t){this.elements.push({$element:e,$parent:t.parent()}),NextendTween.set(t,{overflow:"hidden",backfaceVisibility:"hidden",transformStyle:"preserve-3d"}),this.start(),this._resizeElement(this.elements[this.elements.length-1])},removeElement:function(e){for(var t=0;t<this.elements.length;t++)if(this.elements[t].$element==e){this.elements.splice(t,1);break}0==this.elements.length&&this.end()},resize:function(){this._windowHeight=200+(window.n2ClientHeight||document.documentElement.clientHeight||document.body.clientHeight);for(var e=0;e<this.elements.length;e++)this._resizeElement(this.elements[e])},_resizeElement:function(e){var t=e.$parent;e.offsetTop=t.offset().top,NextendTween.set(e.$element,{marginTop:-100,height:this._windowHeight})},render:function(){for(var e=this.$window.scrollTop(),t=0;t<this.elements.length;t++)NextendTween.to(this.elements[t].$element,.4,{y:e-this.elements[t].offsetTop})}};return s.prototype.startColorMode=function(){this.loadDeferred.resolve()},s.prototype.startImageMode=function(){if("fixed"==this.mode&&(n2const.isPhone&&!this.slide.slider.parameters["background.parallax.mobile"]||n2const.isTablet&&!this.slide.slider.parameters["background.parallax.tablet"])&&(this.mode="fill"),this.$image.css("display","none"),this.$background=e('<div class="n2-ss-background-image"/>').css({opacity:this.opacity,backgroundPosition:this.x+"% "+this.y+"%"}).appendTo(this.$mask),window.n2FilterProperty&&(this.blur>0?this.$background.css({margin:"-"+2*this.blur+"px",padding:2*this.blur+"px"}).css(window.n2FilterProperty,"blur("+this.blur+"px)"):this.$background.css({margin:"",padding:""}).css(window.n2FilterProperty,"")),"fixed"==this.mode&&this.startFixed(),this.desktopSrc=this.element.data("desktop")||"",this.tabletSrc=this.element.data("tablet")||"",this.mobileSrc=this.element.data("mobile")||"",nextend.isRetina){var t=this.element.data("desktop-retina");t&&(this.desktopSrc=t),t=this.element.data("tablet-retina"),t&&(this.tabletSrc=t),t=this.element.data("mobile-retina"),t&&(this.mobileSrc=t)}},s.prototype.preLoad=function(){return this.loadStarted||(this.slide.$element.find("[data-lazysrc]").each(function(){var t=e(this);t.attr("src",t.data("lazysrc"))}),this.loadStarted=!0),"pending"==this.loadDeferred.state()&&(this.loadAllowed=!0,this.manager.deviceDeferred.done(e.proxy(function(){this.updateBackgroundToDevice(this.manager.device),this.$background.n2imagesLoaded({background:!0},e.proxy(function(e){var t=e.images[0].img;this.width=t.naturalWidth,this.height=t.naturalHeight,this.isLoaded=!0,this.loadDeferred.resolve(this.element)},this))},this))),this.loadDeferred},s.prototype.updateBackgroundToDevice=function(e){var t=this.desktopSrc;"mobile"==e.device?this.mobileSrc?t=this.mobileSrc:this.tabletSrc&&(t=this.tabletSrc):"tablet"==e.device&&this.tabletSrc&&(t=this.tabletSrc),t?this.setSrc(t):this.setSrc("")},s.prototype.setSrc=function(e){this.loadAllowed&&e!=this.currentSrc&&(""===e?this.$background.css("background-image",""):this.$background.css("background-image",'url("'+e+'")'),this.currentSrc=e)},s.prototype.startFixed=function(){n2const.isEdge||(this.slide.slider.parameters.allowBGImageAttachmentFixed&&!n2const.isIOS?(this.$background.css("background-repeat","repeat"),this.$background.css("position","static"),this.$background.css("background-attachment","fixed")):n2const.isIE||this.slide.slider.startedDeferred.done(e.proxy(function(){n.addElement(this.$background,this.element)},this)))},s.prototype.hack=function(){NextendTween.set(this.element,{rotation:1e-4})},s}),N2Require("SmartSliderBackgroundVideo",[],[],function(e,t,i){function s(t,s){if(n)if(this.slide=t,this.slider=t.slider,this.isResized=!1,this.isPaused=!0,this.$video=s,this.hasVideo=!0,this.isReady=!1,s[0].videoWidth>0)this.onReady();else{s[0].addEventListener("error",e.proxy(this.onError,this),!0),s[0].addEventListener("canplay",e.proxy(this.onReady,this)),s[0].addEventListener("loadedmetadata",e.proxy(this.onReady,this),!1);var r=e.proxy(function(){setTimeout(e.proxy(function(){0==s[0].networkState&&this.onError()},this),100)},this);s[0].n2LoadStarted==i?s[0].addEventListener("loadstart",r,!0):r()}else this.hasVideo=!1,s.remove()}var n=!/Mobi/.test(navigator.userAgent)||"playsInline"in document.createElement("video")||"webkit-playsinline"in document.createElement("video")||navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./)&&parseInt(navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./)[2])>=53;return s.prototype.onReady=function(){if(!this.isReady){this.isReady=!0;var t=this.$video;t.data("ratio")||(t.data("ratio",t[0].videoWidth/t[0].videoHeight),t.addClass("n2-active"),this.slider.sliderElement.on("BeforeVisible",e.proxy(this.onResize,this)),this.slider.ready(e.proxy(function(){this.slider.sliderElement.on("SliderResize",e.proxy(this.onResize,this)),this.isResized||this.onResize(),this.isPaused||this.play()},this))),this.slide.$element.on({mainAnimationStartIn:e.proxy(this.play,this),mainAnimationStartInCancel:e.proxy(this.pause,this),mainAnimationCompleteOut:e.proxy(this.pause,this)})}},s.prototype.onError=function(){this.$video.remove()},s.prototype.pause=function(){this.hasVideo&&(this.$video[0].videoWidth>0&&this.$video[0].pause(),this.isPaused=!0)},s.prototype.play=function(){this.hasVideo&&(this.$video[0].videoWidth>0&&this.$video[0].play(),this.isPaused=!1)},s.prototype.onResize=function(){if(!this.isResized){var t=this.$video.data("background");t&&""!=t&&e('<div class="n2-ss-slide-bg-video-color-overlay" style="position:absolute;left:0;top:0;width:100%;height:100%;z-index:3;'+t+';"/>').insertAfter(this.$video),this.isResized=!0}this.resizeVideo()},s.prototype.resizeVideo=function(){var e=this.$video,t=e.data("mode"),i=e.data("ratio"),s=this.slider.dimensions.slideouter||this.slider.dimensions.slide,n=s.width/s.height;"fill"==t?n>i?e.css({width:"100%",height:"auto"}):e.css({width:"auto",height:"100%"}):"fit"==t?i>n?e.css({width:"100%",height:"auto"}):e.css({width:"auto",height:"100%"}):e.css({width:"",height:""}),e.css("marginTop",0).css(nextend.rtl.marginLeft,0),this.center()},s.prototype.center=function(){var e=this.$video,t=e.parent();e.css({marginTop:parseInt((t.height()-e.height())/2)}),e.css(nextend.rtl.marginLeft,parseInt((t.width()-e.width())/2))},s}),N2Require("FrontendComponent",[],[],function(e,t,i){function s(e,i,s,n){this.wraps={},this.isVisible=!0,this.device="",this.children=[],this.slide=e,this.parent=i,this.$layer=s.data("layer",this);var r=this.$layer.find("> .n2-ss-layer-mask");r.length&&(this.wraps.mask=r);var o=this.$layer.find("> .n2-ss-layer-parallax");switch(o.length&&(this.wraps.parallax=o),s.data("pm")){case"absolute":this.placement=new t.FrontendPlacementAbsolute(this);break;case"normal":this.placement=new t.FrontendPlacementNormal(this);break;case"content":this.placement=new t.FrontendPlacementContent(this);break;default:this.placement=new t.FrontendPlacementDefault(this)}if(this.animations=s.data("animations"),this.parallax=s.data("parallax"),this.baseSize=this.baseSize||100,this.isAdaptiveFont=this.get("adaptivefont"),this.refreshBaseSize(this.getDevice("fontsize")),n)for(var a=0;a<n.length;a++)switch(n.eq(a).data("type")){case"content":this.children.push(new t.FrontendComponentContent(this.slide,this,n.eq(a)));break;case"row":this.children.push(new t.FrontendComponentRow(this.slide,this,n.eq(a)));break;case"col":this.children.push(new t.FrontendComponentCol(this.slide,this,n.eq(a)));break;case"group":this.children.push(new t.FrontendComponentGroup(this.slide,this,n.eq(a)));break;default:this.children.push(new t.FrontendComponentLayer(this.slide,this,n.eq(a)))}}return s.prototype.refreshBaseSize=function(e){this.isAdaptiveFont?this.baseSize=16*e/100:this.baseSize=this.parent.baseSize*e/100},s.prototype.start=function(){this.placement.start();for(var e=0;e<this.children.length;e++)this.children[e].start();var t=this.get("rotation")||0;if(t/360!=0){var i=this.addWrap("rotation","<div class='n2-ss-layer-rotation'></div>");NextendTween.set(i[0],{rotationZ:t})}},s.prototype.onDeviceChange=function(e){this.device=e;var t=this.isVisible;if(this.isVisible=this.getDevice(""),this.isVisible===i&&(this.isVisible=1),t&&!this.isVisible?(this.$layer.data("shows",0),this.$layer.css("display","none")):!t&&this.isVisible&&(this.$layer.data("shows",1),this.$layer.css("display","block")),this.isVisible){var s=this.getDevice("fontsize");this.refreshBaseSize(s),this.isAdaptiveFont?this.$layer.css("font-size",16*s/100+"px"):this.$layer.css("font-size",s+"%");for(var n=0;n<this.children.length;n++)this.children[n].onDeviceChange(e);this.placement.onDeviceChange(e),this.onAfterDeviceChange(e)}},s.prototype.onAfterDeviceChange=function(e){},s.prototype.onResize=function(e,t,i){if(this.isVisible||this.placement.alwaysResize){for(var s=0;s<this.children.length;s++)this.children[s].onResize(e,t,i);this.placement.onResize(e,t,i)}},s.prototype.getDevice=function(e,t){var s=this.$layer.data(this.device+e);return s!=i?s:"desktopportrait"!=this.device?this.$layer.data("desktopportrait"+e):t!==i?t:0},s.prototype.get=function(e){return this.$layer.data(e)},s.prototype.createLayerAnimations=function(e,i){var s=[];if(this.isVisible){if(this.animations||this.$layer.triggerHandler("needExtendTimelineIn")||this.$layer.triggerHandler("needExtendTimelineOut")){var n=this.$layer,r=n.data("animatableselector");r&&(n=n.find(r));var o=new t.FrontendLayerAnimations(this.$layer,n);o.setEventBased(this.slide,e,i),s.push(o)}for(var a=0;a<this.children.length;a++)s.push.apply(s,this.children[a].createLayerAnimations(e,i))}return s},s.prototype.getParallaxNodes=function(){var e=[];if(this.isVisible){this.parallax&&e.push(this.$layer[0]);for(var t=0;t<this.children.length;t++)e.push.apply(e,this.children[t].getParallaxNodes())}return e},s.prototype.addWrap=function(t,s){if(this.wraps[t]===i){var n=e(s);switch(t){case"rotation":this.wraps.mask!==i?n.appendTo(this.wraps.mask):this.wraps.parallax!==i?n.appendTo(this.wraps.parallax):n.appendTo(this.$layer),n.append(this.getContents())}this.wraps[t]=n}return n},s.prototype.getContents=function(){return!1},s}),N2Require("LayerParallax",[],[],function(e,t,i){function s(t,i){this.ticking=!1,this.active=!1,this.mouseOrigin=!1,this.parallaxedNodes=null,this.parallaxedStaticSlideNodes=[],this.parallaxedSlideNodes=null,this._scrollCallback=!1,this.firstStart=!0,this.parameters=e.extend({mode:"scroll",origin:"slider",is3D:!1,animate:!0,scrollmove:"both"},i),/^((?!chrome|android).)*safari/i.test(navigator.userAgent)&&(this.parameters.is3D=!1,t.sliderElement.find(".n2-ss-layers-container").css({"-webkit-perspective":"none",perspective:"none"})),this.x=this.y=0,this.levels={1:.01,2:.02,3:.05,4:.1,5:.2,6:.3,7:.4,8:.5,9:.6,10:.7},this.parameters.is3D&&(this.rotationX=this.rotationY=0,this.levelsDeg={1:2,2:6,3:10,4:15,5:20,6:25,7:30,8:35,9:40,10:45}),this.parameters.animate&&(this.render=this.animateRender),this.window=e(window),this.slider=t,this.sliderElement=t.sliderElement}var n=function(e){var t=e.matches||e.webkitMatchesSelector||e.mozMatchesSelector||e.msMatchesSelector;return function(e,i){return t.call(e,i)}}(Element.prototype);return s.prototype.resize=function(){var e=this.sliderElement.offset(),t=this.slider.responsive.responsiveDimensions;this.w2=t.width/2,this.h2=t.height/2,this.sliderOrigin={x:e.left+this.w2,y:e.top+this.h2},"slider"==this.parameters.origin&&(this.mouseOrigin=this.sliderOrigin)},s.prototype.enable=function(){this.active=!0,this.resize(),this.sliderElement.on({"SliderResize.n2-ss-parallax":e.proxy(this.resize,this)});var t=-1,i=-1;switch(this.mouseX=!1,this.mouseY=!1,this.scrollY=!1,this.parameters.horizontal){case"mouse":this.mouseX=!0;break;case"mouse-invert":this.mouseX=!0,t=1}switch(this.parameters.vertical){case"mouse":this.mouseY=!0;break;case"mouse-invert":this.mouseY=!0,i=1;break;case"scroll":this.scrollY=!0,i=1;break;case"scroll-invert":this.scrollY=!0,i=-1}if((this.mouseX||this.mouseY)&&(this.sliderElement.on({"mouseenter.n2-ss-parallax":e.proxy(this.mouseEnter,this),"mousemove.n2-ss-parallax":e.proxy(this.mouseMove,this,t,i),"mouseleave.n2-ss-parallax":e.proxy(this.mouseLeave,this,!1)}),n(this.sliderElement[0],":hover")&&this.mouseEnter(!1)),this.scrollY){var s=-1,r=1;switch(this.parameters.scrollmove){case"bottom":i>0?r=0:s=0;break;case"top":i>0?s=0:r=0}this._scrollCallback=e.proxy(this.scroll,this,i,s,r),this.window.on({"scroll.n2-ss-parallax":this._scrollCallback,"resize.n2-ss-parallax":this._scrollCallback})}},s.prototype.disable=function(){this.sliderElement.off(".n2-ss-parallax"),this.window.off("scroll.n2-ss-parallax",this._scrollCallback),this.window.off("resize.n2-ss-parallax",this._scrollCallback),this.active=!1},s.prototype.start=function(t){null!==this.parallaxedSlideNodes&&this.end(),this.firstStart&&(this.slider.staticSlide&&(this.parallaxedStaticSlideNodes=this.slider.staticSlide.getParallaxNodes()),this.firstStart=!1),this.parallaxedSlideNodes=t.getParallaxNodes(),this.parallaxedNodes=e.merge(e.merge([],this.parallaxedSlideNodes),this.parallaxedStaticSlideNodes),this.parallaxedNodes.length?(this.active||this.enable(),this._scrollCallback&&this._scrollCallback()):(this.parallaxedNodes=null,this.parallaxedSlideNodes=null,this.active&&this.disable())},s.prototype.end=function(){switch(this.parameters.mode){case"mouse-scroll":this.mouseLeave(null,!0);break;case"scroll":break;default:this.mouseLeave(null,!0)}this.parallaxedNodes=null},s.prototype.mouseEnter=function(e){this.ticking||(NextendTween.ticker.addEventListener("tick",this.tick,this),this.ticking=!0,e&&"enter"==this.parameters.origin&&(this.mouseOrigin={x:e.pageX,y:e.pageY}))},s.prototype.mouseMove=function(e,t,i){this.mouseOrigin===!1&&(this.mouseOrigin=this.sliderOrigin),this.mouseX&&(this.x=e*(i.pageX-this.mouseOrigin.x),this.parameters.is3D&&(this.rotationY=-this.x/this.w2)),this.mouseY&&(this.y=t*(i.pageY-this.mouseOrigin.y),this.parameters.is3D&&(this.rotationX=this.y/this.h2))},s.prototype.mouseLeave=function(e,t){this.ticking&&(NextendTween.ticker.removeEventListener("tick",this.tick,this),this.ticking=!1);var i={};this.mouseX&&(i.x=0),this.mouseY&&(i.y=0),this.parameters.is3D&&(i.rotationX=i.rotationY=0),NextendTween.to(t?this.parallaxedSlideNodes:this.parallaxedNodes,2,i),this.mouseOrigin=this.sliderOrigin},s.prototype.scroll=function(e,t,i){var s=this.window.height(),n=this.window.scrollTop();n<this.sliderOrigin.y+this.h2&&n+s>this.sliderOrigin.y-this.h2&&(this.y=Math.max(t,Math.min(i,-1+2*(this.sliderOrigin.y-(n-this.h2))/(s+2*this.h2))),this.sliderOrigin.y<s&&(this.y=Math.min(0,this.y)),this.y*=-e*this.h2*4,this.parameters.is3D&&(this.rotationX=this.y/this.h2),this.draw(!1,!0))},s.prototype.draw=function(t,i){if(this.parallaxedNodes)for(var s=0;s<this.parallaxedNodes.length;s++){var n=e(this.parallaxedNodes[s]).data("parallax"),r=this.levels[n],o={};if(this.parameters.is3D){var a=this.levelsDeg[n];o.rotationX=this.rotationX*a,o.rotationY=this.rotationY*a}o.x=this.x*r,o.y=this.y*r,this.render(this.parallaxedNodes[s],o)}},s.prototype.render=function(e,t){NextendTween.set(e,t)},s.prototype.animateRender=function(e,t){NextendTween.to(e,.6,t)},s.prototype.tick=function(){this.draw(this.mouseX,this.mouseY)},s}),N2Require("FrontendPlacement",[],[],function(e,t,i){function s(e){this.layer=e,this.alwaysResize=!1}return s.prototype.start=function(){},s.prototype.onDeviceChange=function(e){},s.prototype.onResize=function(e,t,i){},s}),N2Require("FrontendSliderSlide",["FrontendComponentSlideAbstract"],[],function(e,t,i){function s(i,s,n){this.isStaticSlide=!1,this.originalIndex=n,this.index=n,this.localIndex=n,this.$element=s.data("slide",this),this.id=this.$element.data("id"),this.backgroundImage=!1,this.backgroundVideo=!1,this.slides=[this],i.parameters.admin?this.minimumSlideDuration=0:(this.minimumSlideDuration=s.data("slide-duration"),e.isNumeric(this.minimumSlideDuration)||(this.minimumSlideDuration=0));var r=s.find(".n2-ss-layers-container");t.FrontendComponentSlideAbstract.prototype.constructor.call(this,i,r)}return s.prototype=Object.create(t.FrontendComponentSlideAbstract.prototype),s.prototype.constructor=s,s.prototype.init=function(){t.FrontendComponentSlideAbstract.prototype.init.call(this);var e=this.slider.findSlideBackground(this);e.length>0&&(this.slider.isAdmin?this.backgroundImage=new t.SmartSliderBackgroundImageAdmin(this,e,this.slider.backgroundImages):this.backgroundImage=new t.SmartSliderBackgroundImage(this,e,this.slider.backgroundImages)),this.$element.data("slideBackground",this.backgroundImage);var i=this.backgroundImage.element.find(".n2-ss-slide-background-video");i.length>0&&(this.backgroundVideo=new t.SmartSliderBackgroundVideo(this,i))},s.prototype.setStarterSlide=function(){t.FrontendComponentSlideAbstract.prototype.setStarterSlide.call(this),!this.slider.isAdmin&&this.backgroundVideo&&this.backgroundVideo.play()},s.prototype.setIndex=function(e){this.localIndex=this.index=e},s.prototype.preLoad=function(){return this.backgroundImage?this.backgroundImage.preLoad():!0},s.prototype.setPrevious=function(e){this.previousSlide=e},s.prototype.setNext=function(e){this.nextSlide=e,e.setPrevious(this)},s.prototype.hasBackgroundVideo=function(){return this.backgroundVideo},s}),N2Require("FrontendComponentSlideAbstract",["FrontendComponent"],[],function(e,t,i){function s(i,s){this.baseSize=16,this.slider=i,this.isCurrentlyEdited()||(this.status=n.NOT_INITIALIZED,t.FrontendComponent.prototype.constructor.call(this,this,this,s,s.find("> .n2-ss-section-outer > .n2-ss-layer, > .n2-ss-layer, > .n2-ss-layer-group")),this.slider.sliderElement.on({SliderDeviceOrientation:e.proxy(function(e,t){this.onDeviceChange(t.device+t.orientation.toLowerCase())},this),SliderResize:e.proxy(function(e,t,i){this.onResize(t,i.responsiveDimensions)},this)}),t.FrontendComponent.prototype.start.call(this))}var n={NOT_INITIALIZED:-1,INITIALIZED:0,READY_TO_START:1,PLAYING:2,ENDED:3};return s.prototype=Object.create(t.FrontendComponent.prototype),s.prototype.constructor=s,s.prototype.isCurrentlyEdited=function(){return this.slider.parameters.admin&&this.$element.hasClass("n2-ss-currently-edited-slide")},s.prototype.trigger=function(){this.$element.trigger.apply(this.$element,[].slice.call(arguments))},s.prototype.triggerHandler=function(){return this.$element.triggerHandler.apply(this.$element,[].slice.call(arguments))},s.prototype.init=function(){if(!this.isCurrentlyEdited()){this.initLayerAnimations();var t=this.$element.find('[data-device="1"]');this.slider.sliderElement.on("SliderDeviceOrientation",e.proxy(function(e,i){for(var s=0;s<t.length;s++){var n=t.eq(s);n.attr("src",n.data(i.device))}},this))}},s.prototype.refreshBaseSize=function(e){},s.prototype.onResize=function(e,t){for(var i=0;i<this.children.length;i++)this.children[i].onResize(e,t,this.isStaticSlide)},s.prototype.hasLayers=function(){return this.children.length>0},s.prototype.onDeviceChange=function(e){this.device=e;for(var t=0;t<this.children.length;t++)this.children[t].onDeviceChange(e);this.placement.onDeviceChange(e)},s.prototype.setStarterSlide=function(){this.setStarterSlideAnimation()},s.prototype.initLayerAnimations=function(){this.status=n.INITIALIZED,this.playOnce=!this.slider.isAdmin&&this.slider.parameters.layerMode.playOnce,this.slider.sliderElement.one("SliderResize",e.proxy(function(){this.refreshTimelines(),this.slider.isAdmin||this.slider.sliderElement.on("SliderResize",e.proxy(this.resize,this)),this.isStaticSlide?this.slider.visible(e.proxy(function(){this.setStart(),this.playIn()},this)):this.$element.on("mainAnimationStartIn",e.proxy(this.setStart,this)).on("mainAnimationStartInCancel",e.proxy(this.reset,this))},this))},s.prototype.setStarterSlideAnimation=function(){this.slider.isAdmin||this.slider.visible(e.proxy(function(){this.slider.parameters.layerMode.playFirstLayer?(this.setStart(),this.playIn()):(this.setZeroAll(),this.status=n.INITIALIZED)},this))},s.prototype.resize=function(e,t,i,s){"undefined"==typeof s&&this==this.slider.currentSlide&&(this.animationsRefreshRatios(t),this.status=n.INITIALIZED,this.slider.parameters.layerMode.playFirstLayer?(this.setStart(),this.playIn()):(this.setZeroAll(),this.status=n.INITIALIZED))},s.prototype.animationsRefreshRatios=function(e){for(var t=0;t<this.layerAnimations.length;t++)this.layerAnimations[t].refresh(e)},s.prototype.refreshTimelines=function(){this.layerAnimations=this.createLayerAnimations(this.slider.responsive.lastRawRatios.slideW,this.slider.responsive.lastRawRatios.slideH)},s.prototype.setZero=function(){this.$element.trigger("layerSetZero",this)},s.prototype.setZeroAll=function(){this.$element.trigger("layerSetZeroAll",this)},s.prototype.setStart=function(){this.status==n.INITIALIZED&&(this.$element.trigger("layerAnimationSetStart"),this.status=n.READY_TO_START)},s.prototype.playIn=function(){this.status==n.READY_TO_START&&(this.status=n.PLAYING,this.$element.trigger("layerAnimationPlayIn"))},s.prototype.playOut=function(){if(this.status==n.PLAYING){var t=[];this.$element.triggerHandler("beforeMainSwitch",[t]),e.when.apply(e,t).done(e.proxy(function(){this.onOutAnimationsPlayed();
},this))}else this.onOutAnimationsPlayed()},s.prototype.onOutAnimationsPlayed=function(){this.playOnce?this.status=n.ENDED:this.status=n.INITIALIZED,this.$element.trigger("layerAnimationCompleteOut")},s.prototype.pause=function(){this.$element.triggerHandler("layerPause")},s.prototype.reset=function(){this.$element.triggerHandler("layerReset"),this.status=n.INITIALIZED},s.prototype.getTimeline=function(){for(var e=new NextendTimeline({paused:1}),t=0;t<this.layerAnimations.length;t++){var i=this.layerAnimations[t];e.add(i.linearTimeline,0),i.linearTimeline.paused(!1)}return e},s}),N2Require("FrontendSliderStaticSlide",["FrontendComponentSlideAbstract"],[],function(e,t,i){function s(e,i){this.isStaticSlide=!0,this.$element=i.data("slide",this),t.FrontendComponentSlideAbstract.prototype.constructor.call(this,e,i),this.init()}return s.prototype=Object.create(t.FrontendComponentSlideAbstract.prototype),s.prototype.constructor=s,s}),N2Require("FrontendPlacementAbsolute",["FrontendPlacement"],[],function(e,t,i){function s(e){return e.position()}function s(e){return{left:e.prop("offsetLeft"),top:e.prop("offsetTop")}}function n(e){this.linked=[],this.parentLayer=!1,this.$parent=!1,t.FrontendPlacement.prototype.constructor.apply(this,arguments)}return/(MSIE\ [0-7]\.\d+)/.test(navigator.userAgent),n.prototype=Object.create(t.FrontendPlacement.prototype),n.prototype.constructor=n,n.prototype.start=function(){var t=this.layer.get("parentid");t&&(this.$parent=e("#"+t),0==this.$parent.length?this.$parent=!1:(this.parentLayer=this.$parent.data("layer"),this.parentLayer.placement.addLinked(this),this.onResize=function(){}))},n.prototype.addLinked=function(e){this.linked.push(e),this.alwaysResize=!0},n.prototype.onResize=n.prototype.onResizeLinked=function(e,t,i){var n=this.layer.$layer,r=e.slideW,o=r,a=e.slideH,l=a;parseInt(this.layer.get("responsivesize"))||(o=l=1),n.css("width",this.getWidth(o)),n.css("height",this.getHeight(l)),parseInt(this.layer.get("responsiveposition"))||(r=a=1);var h=this.layer.getDevice("left")*r,d=this.layer.getDevice("top")*a,p=this.layer.getDevice("align"),u=this.layer.getDevice("valign"),c={left:"auto",top:"auto",right:"auto",bottom:"auto"};if(this.$parent&&this.$parent.data("layer").isVisible){var m=s(this.$parent),f={left:0,top:0};switch(this.layer.getDevice("parentalign")){case"right":f.left=m.left+this.$parent.width();break;case"center":f.left=m.left+this.$parent.width()/2;break;default:f.left=m.left}switch(p){case"right":c.right=n.parent().width()-f.left-h+"px";break;case"center":c.left=f.left+h-n.width()/2+"px";break;default:c.left=f.left+h+"px"}switch(this.layer.getDevice("parentvalign")){case"bottom":f.top=m.top+this.$parent.height();break;case"middle":f.top=m.top+this.$parent.height()/2;break;default:f.top=m.top}switch(u){case"bottom":c.bottom=n.parent().height()-f.top-d+"px";break;case"middle":c.top=f.top+d-n.height()/2+"px";break;default:c.top=f.top+d+"px"}}else{switch(p){case"right":c.right=-h+"px";break;case"center":c.left=(i?n.parent().width():t.slide.width)/2+h-n.width()/2+"px";break;default:c.left=h+"px"}switch(u){case"bottom":c.bottom=-d+"px";break;case"middle":c.top=(i?n.parent().height():t.slide.height)/2+d-n.height()/2+"px";break;default:c.top=d+"px"}}n.css(c);for(var y=0;y<this.linked.length;y++)this.linked[y].onResizeLinked(e,t,i)},n.prototype.getWidth=function(e){var t=this.layer.getDevice("width");return this.isDimensionPropertyAccepted(t)?t:t*e+"px"},n.prototype.getHeight=function(e){var t=this.layer.getDevice("height");return this.isDimensionPropertyAccepted(t)?t:t*e+"px"},n.prototype.isDimensionPropertyAccepted=function(e){return!(!(e+"").match(/[0-9]+%/)&&"auto"!=e)},n}),N2Require("FrontendPlacementContent",["FrontendPlacement"],[],function(e,t,i){function s(e){t.FrontendPlacement.prototype.constructor.apply(this,arguments)}return s.prototype=Object.create(t.FrontendPlacement.prototype),s.prototype.constructor=s,s}),N2Require("FrontendPlacementDefault",["FrontendPlacement"],[],function(e,t,i){function s(e){t.FrontendPlacement.prototype.constructor.apply(this,arguments)}return s.prototype=Object.create(t.FrontendPlacement.prototype),s.prototype.constructor=s,s}),N2Require("FrontendPlacementNormal",["FrontendPlacement"],[],function(e,t,i){function s(e){t.FrontendPlacement.prototype.constructor.apply(this,arguments)}return s.prototype=Object.create(t.FrontendPlacement.prototype),s.prototype.constructor=s,s.prototype.onDeviceChange=function(){this.updateMargin(),this.updateHeight(),this.updateMaxWidth(),this.updateSelfAlign()},s.prototype.updateMargin=function(){var e=this.layer.getDevice("margin").split("|*|"),t=e.pop(),i=this.layer.baseSize;if("px+"==t&&i>0){t="em";for(var s=0;s<e.length;s++)e[s]=parseInt(e[s])/i}this.layer.$layer.css("margin",e.join(t+" ")+t)},s.prototype.updateHeight=function(){var e=this.layer.getDevice("height"),t="px";if(e>0){var i=this.layer.baseSize;i>0&&(t="em",e=parseInt(e)/i),this.layer.$layer.css("height",e+t)}else this.layer.$layer.css("height","")},s.prototype.updateMaxWidth=function(){var e=parseInt(this.layer.getDevice("maxwidth"));0>=e||isNaN(e)?this.layer.$layer.css("maxWidth","").removeClass("n2-ss-has-maxwidth"):this.layer.$layer.css("maxWidth",e+"px").addClass("n2-ss-has-maxwidth")},s.prototype.updateSelfAlign=function(){this.layer.$layer.attr("data-cssselfalign",this.layer.getDevice("selfalign"))},s}),N2Require("FrontendComponentCol",["FrontendComponent"],[],function(e,t,i){function s(e,i,s){this.$content=s.find(".n2-ss-layer-col:first"),t.FrontendComponent.prototype.constructor.call(this,e,i,s,this.$content.find("> .n2-ss-layer"))}return s.prototype=Object.create(t.FrontendComponent.prototype),s.prototype.constructor=s,s.prototype.onDeviceChange=function(e){t.FrontendComponent.prototype.onDeviceChange.apply(this,arguments),this.updateOrder(),this.updatePadding(),this.updateInnerAlign(),this.updateMaxWidth()},s.prototype.updatePadding=function(){var e=this.getDevice("padding").split("|*|"),t=e.pop(),i=this.baseSize;if("px+"==t&&i>0){t="em";for(var s=0;s<e.length;s++)e[s]=parseInt(e[s])/i}this.$content.css("padding",e.join(t+" ")+t)},s.prototype.updateInnerAlign=function(){this.$layer.attr("data-csstextalign",this.getDevice("inneralign"))},s.prototype.updateMaxWidth=function(){var e=parseInt(this.getDevice("maxwidth"));0>=e||isNaN(e)?this.$layer.css("maxWidth","").removeClass("n2-ss-has-maxwidth"):this.$layer.css("maxWidth",e+"px").addClass("n2-ss-has-maxwidth")},s.prototype.getRealOrder=function(){var e=this.getDevice("order");return 0==e?10:e},s.prototype.updateOrder=function(){var e=this.getDevice("order");0==e?this.$layer.css("order",""):this.$layer.css("order",e)},s.prototype.getContents=function(){return this.$content},s}),N2Require("FrontendComponentContent",["FrontendComponent"],[],function(e,t,i){function s(e,i,s){this.$content=s.find("> .n2-ss-section-main-content"),t.FrontendComponent.prototype.constructor.call(this,e,i,s,this.$content.find("> .n2-ss-layer"))}return s.prototype=Object.create(t.FrontendComponent.prototype),s.prototype.constructor=s,s.prototype.onDeviceChange=function(e){t.FrontendComponent.prototype.onDeviceChange.apply(this,arguments),this.updatePadding(),this.updateInnerAlign(),this.updateMaxWidth(),this.updateSelfAlign()},s.prototype.updatePadding=function(){var e=this.getDevice("padding").split("|*|"),t=e.pop(),i=this.baseSize;if("px+"==t&&i>0){t="em";for(var s=0;s<e.length;s++)e[s]=parseInt(e[s])/i}this.$content.css("padding",e.join(t+" ")+t)},s.prototype.updateInnerAlign=function(){this.$layer.attr("data-csstextalign",this.getDevice("inneralign"))},s.prototype.updateMaxWidth=function(){var e=parseInt(this.getDevice("maxwidth"));0>=e||isNaN(e)?this.$layer.css("maxWidth","").removeClass("n2-ss-has-maxwidth"):this.$layer.css("maxWidth",e+"px").addClass("n2-ss-has-maxwidth")},s.prototype.updateSelfAlign=function(){this.$layer.attr("data-cssselfalign",this.getDevice("selfalign"))},s.prototype.getContents=function(){return this.$content},s}),N2Require("FrontendComponentGroup",["FrontendComponent"],[],function(e,t,i){function s(e,i,s){t.FrontendComponent.prototype.constructor.call(this,e,i,s,s.find("> .n2-ss-layer"))}return s.prototype=Object.create(t.FrontendComponent.prototype),s.prototype.constructor=s,s}),N2Require("FrontendComponentLayer",["FrontendComponent"],[],function(e,t,i){function s(e,s,n){t.FrontendComponent.prototype.constructor.call(this,e,s,n),this.wraps.mask!==i?this.$item=this.wraps.mask.children():this.wraps.parallax!==i?this.$item=this.wraps.parallax.children():this.$item=n.children()}return s.prototype=Object.create(t.FrontendComponent.prototype),s.prototype.constructor=s,s.prototype.getContents=function(){return this.$item},s}),N2Require("FrontendComponentRow",["FrontendComponent"],[],function(e,t,i){function s(e,i,s){this.$row=s.find(".n2-ss-layer-row:first"),t.FrontendComponent.prototype.constructor.call(this,e,i,s,this.$row.find("> .n2-ss-layer"))}return s.prototype=Object.create(t.FrontendComponent.prototype),s.prototype.constructor=s,s.prototype.onDeviceChange=function(e){t.FrontendComponent.prototype.onDeviceChange.apply(this,arguments),this.updatePadding(),this.updateGutter(),this.updateInnerAlign()},s.prototype.onAfterDeviceChange=function(e){this.updateWrapAfter()},s.prototype.updatePadding=function(){var e=this.getDevice("padding").split("|*|"),t=e.pop(),i=this.baseSize;if("px+"==t&&i>0){t="em";for(var s=0;s<e.length;s++)e[s]=parseInt(e[s])/i}this.$row.css("padding",e.join(t+" ")+t)},s.prototype.updateInnerAlign=function(){this.$layer.attr("data-csstextalign",this.getDevice("inneralign"))},s.prototype.updateGutter=function(){var e=this.getDevice("gutter")+"px";if(this.children.length>0)for(var t=this.children.length-1;t>=0;t--)this.children[t].$layer.css("marginRight",e).css("marginTop",e)},s.prototype.getSortedColumns=function(){for(var t=e.extend([],this.children).sort(function(e,t){return e.getRealOrder()-t.getRealOrder()}),i=t.length-1;i>=0;i--)t[i].isVisible||t.splice(i,1);return t},s.prototype.updateWrapAfter=function(){var t=parseInt(this.getDevice("wrapafter")),i=this.getSortedColumns(),s=i.length,n=!1;if(0==s)return!1;if(t>0&&s>t&&(n=!0),this.$row.find("> .n2-ss-row-break").remove(),this.$row.toggleClass("n2-ss-row-wrapped",n),n)for(var r=0;s>r;r++){var o=parseInt(r/t);if(i[r].$layer.attr("data-r",o),(r+1)%t==0||r==s-1){i[r].$layer.addClass("n2-ss-last-in-row");var a=i[r].getDevice("order");0==a&&(a=10),e('<div class="n2-ss-row-break"/>').css("order",a).insertAfter(i[r].$layer),i[r].$layer}else i[r].$layer.removeClass("n2-ss-last-in-row")}else{for(var r=0;s>r;r++)i[r].$layer.removeClass("n2-ss-last-in-row").attr("data-r",0);i[s-1].$layer.addClass("n2-ss-last-in-row")}},s.prototype.getContents=function(){return this.$row},s}),N2Require("SmartSliderResponsive",[],[],function(e,t,i){function s(t,i){this.disableTransitions=!1,this.disableTransitionsTimeout=null,this.lastClientHeight=0,this.lastOrientation=0,this.invalidateResponsiveState=!0,this.parameters=e.extend({desktop:1,tablet:1,mobile:1,onResizeEnabled:!0,type:"auto",downscale:!0,upscale:!1,constrainRatio:!0,minimumHeight:0,maximumHeight:0,minimumHeightRatio:0,maximumHeightRatio:{desktopLandscape:0,desktopPortrait:0,mobileLandscape:0,mobilePortrait:0,tabletLandscape:0,tabletPortrait:0},maximumSlideWidth:0,maximumSlideWidthLandscape:0,maximumSlideWidthRatio:-1,maximumSlideWidthTablet:0,maximumSlideWidthTabletLandscape:0,maximumSlideWidthMobile:0,maximumSlideWidthMobileLandscape:0,maximumSlideWidthConstrainHeight:0,forceFull:0,forceFullOverflowX:"body",forceFullHorizontalSelector:"",verticalOffsetSelectors:"",focusUser:0,focusAutoplay:0,deviceModes:{desktopLandscape:1,desktopPortrait:0,mobileLandscape:0,mobilePortrait:0,tabletLandscape:0,tabletPortrait:0},normalizedDeviceModes:{unknownUnknown:["unknown","Unknown"],desktopPortrait:["desktop","Portrait"]},verticalRatioModifiers:{unknownUnknown:1,desktopLandscape:1,desktopPortrait:1,mobileLandscape:1,mobilePortrait:1,tabletLandscape:1,tabletPortrait:1},minimumFontSizes:{desktopLandscape:0,desktopPortrait:0,mobileLandscape:0,mobilePortrait:0,tabletLandscape:0,tabletPortrait:0},ratioToDevice:{Portrait:{tablet:0,mobile:0},Landscape:{tablet:0,mobile:0}},sliderWidthToDevice:{desktopLandscape:0,desktopPortrait:0,mobileLandscape:0,mobilePortrait:0,tabletLandscape:0,tabletPortrait:0},basedOn:"combined",desktopPortraitScreenWidth:1200,tabletPortraitScreenWidth:800,mobilePortraitScreenWidth:440,tabletLandscapeScreenWidth:1024,mobileLandscapeScreenWidth:740,orientationMode:"width_and_height",scrollFix:0,overflowHiddenPage:0},i),t.isAdmin&&(this.doResize=NextendThrottle(this.doResize,50)),this.loadDeferred=e.Deferred(),this.slider=t,this.sliderElement=t.sliderElement}var n=null,r=null;return s.OrientationMode={SCREEN:0,ADMIN_LANDSCAPE:1,ADMIN_PORTRAIT:2,SCREEN_WIDTH_ONLY:3},s.DeviceOrientation={UNKNOWN:0,LANDSCAPE:1,PORTRAIT:2},s._DeviceOrientation={0:"Unknown",1:"Landscape",2:"Portrait"},s.DeviceMode={UNKNOWN:0,DESKTOP:1,TABLET:2,MOBILE:3},s._DeviceMode={0:"unknown",1:"desktop",2:"tablet",3:"mobile"},s.prototype.start=function(){nextend.fontsDeferred==i?nextend.loadDeferred.always(e.proxy(function(){this.loadDeferred.resolve()},this)):nextend.fontsDeferred.always(e.proxy(function(){this.loadDeferred.resolve()},this)),this.normalizeTimeout=null,this.delayedResizeAdded=!1,this.deviceMode=s.DeviceMode.UNKNOWN,this.orientationMode=s.OrientationMode.SCREEN,this.orientation=s.DeviceOrientation.UNKNOWN,this.lastRatios={ratio:-1},this.lastRawRatios={ratio:-1},this.normalizedMode="unknownUnknown",this.widgetMargins={Top:[],Right:[],Bottom:[],Left:[]},this.staticSizes={paddingTop:0,paddingRight:0,paddingBottom:0,paddingLeft:0},this.enabledWidgetMargins=[],this.alignElement=this.slider.sliderElement.closest(".n2-ss-align");var t=this.ready=e.Deferred();switch(this.sliderElement.triggerHandler("SliderResponsiveStarted"),this.sliderElement.one("SliderResize",function(){t.resolve()}),this.containerElementPadding=this.sliderElement.parent(),this.containerElement=this.containerElementPadding.parent(),!this.slider.isAdmin&&this.parameters.overflowHiddenPage&&e("html, body").css("overflow","hidden"),"width"==this.parameters.orientationMode&&(this.orientationMode=s.OrientationMode.SCREEN_WIDTH_ONLY),nextend.smallestZoom=Math.min(Math.max(this.parameters.sliderWidthToDevice.mobilePortrait,120),320),this.parameters.basedOn){case"screen":break;default:if(null==n){var o=new MobileDetect(window.navigator.userAgent,801);n=!!o.tablet(),r=!!o.phone()}}if(this.verticalOffsetSelectors=e(this.parameters.verticalOffsetSelectors),this.storeDefaults(),this.parameters.minimumHeight>0&&(this.parameters.minimumHeightRatio=this.parameters.minimumHeight/this.responsiveDimensions.startHeight),this.parameters.maximumHeight>0&&this.parameters.maximumHeight>=this.parameters.minimumHeight&&(this.parameters.maximumHeightRatio={desktopPortrait:this.parameters.maximumHeight/this.responsiveDimensions.startHeight},this.parameters.maximumHeightRatio.desktopLandscape=this.parameters.maximumHeightRatio.desktopPortrait,this.parameters.maximumHeightRatio.tabletPortrait=this.parameters.maximumHeightRatio.desktopPortrait,this.parameters.maximumHeightRatio.tabletLandscape=this.parameters.maximumHeightRatio.desktopPortrait,this.parameters.maximumHeightRatio.mobilePortrait=this.parameters.maximumHeightRatio.desktopPortrait,this.parameters.maximumHeightRatio.mobileLandscape=this.parameters.maximumHeightRatio.desktopPortrait),this.parameters.maximumSlideWidth>0&&(this.parameters.maximumSlideWidthRatio={desktopPortrait:this.parameters.maximumSlideWidth/this.responsiveDimensions.startSlideWidth,desktopLandscape:this.parameters.maximumSlideWidthLandscape/this.responsiveDimensions.startSlideWidth,tabletPortrait:this.parameters.maximumSlideWidthTablet/this.responsiveDimensions.startSlideWidth,tabletLandscape:this.parameters.maximumSlideWidthTabletLandscape/this.responsiveDimensions.startSlideWidth,mobilePortrait:this.parameters.maximumSlideWidthMobile/this.responsiveDimensions.startSlideWidth,mobileLandscape:this.parameters.maximumSlideWidthMobileLandscape/this.responsiveDimensions.startSlideWidth},this.parameters.maximumSlideWidthConstrainHeight)){this.parameters.maximumHeightRatio=e.extend({},this.parameters.maximumSlideWidthRatio);for(var a in this.parameters.maximumHeightRatio)this.parameters.maximumHeightRatio[a]*=this.parameters.verticalRatioModifiers[a]}if("undefined"!=typeof nextend&&"undefined"!=typeof nextend.ssBeforeResponsive&&nextend.ssBeforeResponsive.call(this),this.onResize(),(this.parameters.onResizeEnabled||"adaptive"==this.parameters.type)&&(e(window).on({resize:e.proxy(this.onResize,this),orientationchange:e.proxy(this.onResize,this)}),this.sliderElement.on("SliderInternalResize",e.proxy(this.onResize,this)),this.parameters.scrollFix))try{var l=this;e('<iframe sandbox="allow-same-origin allow-scripts" style="height: 0; background-color: transparent; margin: 0; padding: 0; overflow: hidden; border-width: 0; position: absolute; width: 100%;"/>').on("load",function(t){e(t.target.contentWindow?t.target.contentWindow:t.target.contentDocument.defaultView).on("resize",function(){l.sliderElement.triggerHandler("SliderInternalResize")})}).insertBefore(this.containerElement)}catch(h){}},s.prototype.getOuterWidth=function(){return this.responsiveDimensions.startSliderWidth+this.responsiveDimensions.startSliderMarginLeft+this.responsiveDimensions.startSliderMarginRight},s.prototype.storeDefaults=function(){this.responsiveDimensions={startWidth:this.sliderElement.outerWidth(!0),startHeight:this.sliderElement.outerHeight(!0)},this.horizontalElements=[],this.verticalElements=[],this.init(),this.margins={top:this.responsiveDimensions.startSliderMarginTop,right:this.responsiveDimensions.startSliderMarginRight,bottom:this.responsiveDimensions.startSliderMarginBottom,left:this.responsiveDimensions.startSliderMarginLeft}},s.prototype.addHorizontalElement=function(e,i,s,n){s=s||"ratio";var r=new t.SmartSliderResponsiveElement(this,s,e,i,n);return this.horizontalElements.push(r),r},s.prototype.addVerticalElement=function(e,i,s,n){s=s||"ratio";var r=new t.SmartSliderResponsiveElement(this,s,e,i,n);return this.verticalElements.push(r),r},s.prototype.resizeHorizontalElements=function(e){for(var t=0;t<this.horizontalElements.length;t++){var i=this.horizontalElements[t];"undefined"==typeof e[i.ratioName]&&console.log("error with "+i.ratioName),i.resize(this.responsiveDimensions,e[i.ratioName],!1,0)}},s.prototype.updateVerticalRatios=function(e){return e},s.prototype._updateVerticalRatios=function(t){var i=this.responsiveDimensions.startSlideHeight*t.slideH,s=!1;return this.sliderElement.find(".n2-ss-section-main-content").addClass("n2-ss-section-main-content-calc").each(function(t,n){var r=e(n).outerHeight();r>i&&(s=!0,i=r)}).removeClass("n2-ss-section-main-content-calc"),s&&(t.slideH=i/this.responsiveDimensions.startSlideHeight,t.h=Math.max(t.h,t.slideH)),t},s.prototype.resizeVerticalElements=function(e,t,i){for(var s=0;s<this.verticalElements.length;s++){var n=this.verticalElements[s];"undefined"==typeof e[n.ratioName]&&console.log("error with "+n.ratioName),n.resize(this.responsiveDimensions,e[n.ratioName],t,i)}},s.prototype.getDeviceMode=function(){return s._DeviceMode[this.deviceMode]},s.prototype.getDeviceModeOrientation=function(){return s._DeviceMode[this.deviceMode]+s._DeviceOrientation[this.orientation]},s.prototype.onResize=function(t){this.slider.mainAnimation&&"ended"!=this.slider.mainAnimation.getState()?this.delayedResizeAdded||(this.delayedResizeAdded=!0,this.sliderElement.on("mainAnimationComplete.responsive",e.proxy(this._doDelayedResize,this))):this.doResize(t)},s.prototype._doDelayedResize=function(){this.doResize(),this.delayedResizeAdded=!1},s.prototype.doNormalizedResize=function(){this.normalizeTimeout&&clearTimeout(this.normalizeTimeout),this.normalizeTimeout=setTimeout(e.proxy(this.doResize,this),10)},s.prototype._getOrientation=function(){return this.orientationMode==s.OrientationMode.SCREEN?window.innerHeight<=window.innerWidth?s.DeviceOrientation.LANDSCAPE:s.DeviceOrientation.PORTRAIT:this.orientationMode==s.OrientationMode.ADMIN_PORTRAIT?s.DeviceOrientation.PORTRAIT:this.orientationMode==s.OrientationMode.ADMIN_LANDSCAPE?s.DeviceOrientation.LANDSCAPE:void 0},s.prototype._getDevice=function(){switch(this.parameters.basedOn){case"combined":return this._getDeviceDevice(this._getDeviceScreenWidth());case"device":return this._getDeviceDevice(s.DeviceMode.DESKTOP);case"screen":return this._getDeviceScreenWidth()}},s.prototype._getDeviceScreenWidth=function(){var e=window.innerWidth;if(this.orientation==s.DeviceOrientation.PORTRAIT){if(e<this.parameters.mobilePortraitScreenWidth)return s.DeviceMode.MOBILE;if(e<this.parameters.tabletPortraitScreenWidth)return s.DeviceMode.TABLET}else{if(e<this.parameters.mobileLandscapeScreenWidth)return s.DeviceMode.MOBILE;if(e<this.parameters.tabletLandscapeScreenWidth)return s.DeviceMode.TABLET}return s.DeviceMode.DESKTOP},s.prototype._getDeviceAndOrientationByScreenWidth=function(){var e=window.innerWidth;return e<this.parameters.mobilePortraitScreenWidth?[s.DeviceMode.MOBILE,s.DeviceOrientation.PORTRAIT]:e<this.parameters.mobileLandscapeScreenWidth?[s.DeviceMode.MOBILE,s.DeviceOrientation.LANDSCAPE]:e<this.parameters.tabletPortraitScreenWidth?[s.DeviceMode.TABLET,s.DeviceOrientation.PORTRAIT]:e<this.parameters.tabletLandscapeScreenWidth?[s.DeviceMode.TABLET,s.DeviceOrientation.LANDSCAPE]:e<this.parameters.desktopPortraitScreenWidth?[s.DeviceMode.DESKTOP,s.DeviceOrientation.PORTRAIT]:[s.DeviceMode.DESKTOP,s.DeviceOrientation.LANDSCAPE]},s.prototype._getDeviceDevice=function(e){return r===!0?s.DeviceMode.MOBILE:n&&e!=s.DeviceMode.MOBILE?s.DeviceMode.TABLET:e},s.prototype._getDeviceZoom=function(e){var t;this.orientationMode==s.OrientationMode.ADMIN_PORTRAIT?t=s.DeviceOrientation.PORTRAIT:this.orientationMode==s.OrientationMode.ADMIN_LANDSCAPE&&(t=s.DeviceOrientation.LANDSCAPE);var i=s.DeviceMode.DESKTOP;return e-this.parameters.ratioToDevice[s._DeviceOrientation[t]].mobile<.001?i=s.DeviceMode.MOBILE:e-this.parameters.ratioToDevice[s._DeviceOrientation[t]].tablet<.001&&(i=s.DeviceMode.TABLET),i},s.prototype.reTriggerSliderDeviceOrientation=function(){var e=this._normalizeMode(s._DeviceMode[this.deviceMode],s._DeviceOrientation[this.orientation]);this.sliderElement.trigger("SliderDeviceOrientation",{lastDevice:e[0],lastOrientation:e[1],device:e[0],orientation:e[1]})},s.prototype.doResize=function(t,i,n,r,o){if(this.disableTransitions||(this.disableTransitions=!0,this.sliderElement.addClass("n2notransition"),this.disableTransitionsTimeout&&clearTimeout(this.disableTransitionsTimeout),this.disableTransitionsTimeout=setTimeout(e.proxy(function(){this.sliderElement.removeClass("n2notransition"),this.disableTransitions=!1},this),500)),this.refreshMargin(),"center"==this.slider.parameters.align&&("fullpage"==this.parameters.type?this.alignElement.css("maxWidth","none"):this.alignElement.css("maxWidth",this.responsiveDimensions.startWidth)),!this.slider.isAdmin&&this.parameters.forceFull){"none"!=this.parameters.forceFullOverflowX&&e(this.parameters.forceFullOverflowX).css("overflow-x","hidden");var a=0,l=0;if(""!=this.parameters.forceFullHorizontalSelector){var h=this.sliderElement.closest(this.parameters.forceFullHorizontalSelector);h&&h.length>0&&(a=h.width(),l=h.offset().left)}var d,p=a>0?a:document.body.clientWidth||document.documentElement.clientWidth,u=this.containerElement.parent(),c=u[0].getBoundingClientRect();d=nextend.rtl.isRtl?p-(c.left+u.outerWidth()):c.left,this.containerElement.css(nextend.rtl.marginLeft,-d-parseInt(u.css("paddingLeft"))-parseInt(u.css("borderLeftWidth"))+l).width(p)}var m=this.containerElementPadding.width()/this.getOuterWidth(),f=!1,y=this.orientation,g=this.deviceMode,v=null,S=null;if(this.orientationMode==s.OrientationMode.SCREEN_WIDTH_ONLY){var x=this._getDeviceAndOrientationByScreenWidth();S=x[0],v=x[1]}else v=this._getOrientation();if(this.orientation!=v&&(this.orientation=v,f=!0,this.sliderElement.trigger("SliderOrientation",{lastOrientation:s._DeviceOrientation[y],orientation:s._DeviceOrientation[v]})),i||(this.orientationMode!=s.OrientationMode.SCREEN_WIDTH_ONLY&&(S=this._getDevice(m)),this.deviceMode!=S&&(this.deviceMode=S,this.sliderElement.removeClass("n2-ss-"+s._DeviceMode[g]).addClass("n2-ss-"+s._DeviceMode[S]),this.sliderElement.trigger("SliderDevice",{lastDevice:s._DeviceMode[g],device:s._DeviceMode[S]}),f=!0)),!this.slider.isAdmin&&"fullpage"==this.parameters.type){var b=0;if(window.matchMedia&&/Android|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent||navigator.vendor||window.opera)){var w,A=!1;t&&"orientationchange"==t.type&&(A=!0),w=n2const.isIOS?document.documentElement.clientHeight:window.innerHeight,window.matchMedia("(orientation: landscape)").matches?(b=Math.min(screen.width,w),90!=this.lastOrientation&&(A=!0,this.lastOrientation=90)):(b=Math.min(screen.height,w),0!=this.lastOrientation&&(A=!0,this.lastOrientation=0)),!A&&Math.abs(b-this.lastClientHeight)<100?b=this.lastClientHeight:this.lastClientHeight=b}else b=window.n2ClientHeight||document.documentElement.clientHeight||document.body.clientHeight;this.parameters.maximumHeightRatio[this.getDeviceModeOrientation()]=this.parameters.minimumHeightRatio=(b-this.getVerticalOffsetHeight())/this.responsiveDimensions.startHeight}if(f){var E=this._normalizeMode(s._DeviceMode[g],s._DeviceOrientation[y]),T=this._normalizeMode(s._DeviceMode[this.deviceMode],s._DeviceOrientation[this.orientation]);E[0]==T[0]&&E[1]==T[1]||(this.normalizedMode=T[0]+T[1],this.sliderElement.trigger("SliderDeviceOrientation",{lastDevice:E[0],lastOrientation:E[1],device:T[0],orientation:T[1]}))}var I=this.parameters.sliderWidthToDevice[this.normalizedMode]/this.parameters.sliderWidthToDevice.desktopPortrait;!this.parameters.downscale&&I>m?m=I:!this.parameters.upscale&&m>I&&(m=I),this._doResize(m,n,r,o),"center"==this.slider.parameters.align&&this.alignElement.css("maxWidth",this.responsiveDimensions.slider.width)},s.prototype._normalizeMode=function(e,t){return this.parameters.normalizedDeviceModes[e+t]},s.prototype.getNormalizedModeString=function(){var e=this._normalizeMode(s._DeviceMode[this.deviceMode],s._DeviceOrientation[this.orientation]);return e.join("")},s.prototype.getModeString=function(){return s._DeviceMode[this.deviceMode]+s._DeviceOrientation[this.orientation]},s.prototype.enabled=function(e,t){return this.parameters.deviceModes[e+t]},s.prototype._doResize=function(t,i,s,n){var r={ratio:t,w:t,h:t,slideW:t,slideH:t,fontRatio:1};this._buildRatios(r,this.slider.parameters.dynamicHeight,s),r.fontRatio=r.slideW;var o=!1;for(var a in r)if(r[a]!=this.lastRawRatios[a]){o=!0;break}(this.invalidateResponsiveState||o)&&(this.lastRawRatios=e.extend({},r),this.resizeHorizontalElements(r),this.finishResize(r,i,n))},s.prototype.finishResize=function(t,i,s){this.loadDeferred.done(e.proxy(function(){var n=e.proxy(function(){this.finishResize=this._finishResize,this.finishResize(t,i,s)},this);/OS X.*Version\/10\..*Safari/.exec(window.navigator.userAgent)&&/Apple/.exec(window.navigator.vendor)||/CriOS/.exec(window.navigator.userAgent)?setTimeout(n,200):n()},this)),this.invalidateResponsiveState=!1},s.prototype._finishResize=function(e,t,i){this.invalidateResponsiveState=!1,e=this.updateVerticalRatios(e),this.resizeVerticalElements(e,t,i),this.lastRatios=e,t?(this.sliderElement.trigger("SliderAnimatedResize",[e,t,i]),t.eventCallback("onComplete",function(){this.triggerResize(e,t)},[],this)):this.triggerResize(e,!1)},s.prototype.doVerticalResize=function(){var t=this.updateVerticalRatios(e.extend({},this.lastRawRatios)),i=!1;for(var s in t)if(t[s]!=this.lastRatios[s]){i=!0;break}i&&this.finishVerticalResize(t)},s.prototype.finishVerticalResize=function(t){this.loadDeferred.done(e.proxy(function(){this.finishVerticalResize=this._finishVerticalResize,this.finishVerticalResize(t)},this))},s.prototype._finishVerticalResize=function(e){this.resizeVerticalElements(e,!1,0),this.lastRatios=e,this.triggerResize(e,!1)},s.prototype.triggerResize=function(e,t){this.sliderElement.trigger("SliderResize",[e,this,t])},s.prototype._buildRatios=function(e,t,i){var s=this.getDeviceModeOrientation();this.parameters.maximumSlideWidthRatio[s]>0&&e.slideW>this.parameters.maximumSlideWidthRatio[s]&&(e.slideW=this.parameters.maximumSlideWidthRatio[s]),e.slideW=e.slideH=Math.min(e.slideW,e.slideH);var n=this.parameters.verticalRatioModifiers[s];if(e.slideH*=n,"fullpage"==this.parameters.type)e.h*=n,this.parameters.minimumHeightRatio>0&&(e.h=Math.max(e.h,this.parameters.minimumHeightRatio)),this.parameters.maximumHeightRatio[s]>0&&(e.h=Math.min(e.h,this.parameters.maximumHeightRatio[s])),this.slider.isAdmin?this.parameters.constrainRatio?(e.slideH=Math.min(e.slideH,e.h),e.slideH=e.slideW=Math.min(e.slideW,e.slideH)):(e.w=e.slideW,e.h=e.slideH):this.parameters.constrainRatio?(e.slideH=Math.min(e.slideH,e.h),e.slideH=e.slideW=Math.min(e.slideW,e.slideH)):(e.slideW=e.w,this.parameters.maximumSlideWidthRatio[s]>0&&e.slideW>this.parameters.maximumSlideWidthRatio[s]&&(e.slideW=this.parameters.maximumSlideWidthRatio[s]),e.slideH=e.h);else if(e.h*=n,this.parameters.minimumHeightRatio>0&&(e.h=Math.max(e.h,this.parameters.minimumHeightRatio)),this.parameters.maximumHeightRatio[s]>0&&(e.h=Math.min(e.h,this.parameters.maximumHeightRatio[s])),e.slideH=Math.min(e.slideH,e.h),e.slideW=e.slideH/n,"showcase"==this.slider.type&&(e.slideW=Math.min(e.slideW,e.w),e.slideH=Math.min(e.slideW,e.slideH)),t){var r=this.slider.currentSlide.backgroundImage;if("undefined"!=typeof i&&(r=i.backgroundImage),r.width>0&&r.height>0){var o=this.responsiveDimensions.startSlideWidth/r.width*(r.height/this.responsiveDimensions.startSlideHeight);-1!=o&&(e.slideH*=o,e.h*=o)}}this.sliderElement.triggerHandler("responsiveBuildRatios",[e])},s.prototype.setOrientation=function(e){"portrait"==e?this.orientationMode=s.OrientationMode.ADMIN_PORTRAIT:"landscape"==e&&(this.orientationMode=s.OrientationMode.ADMIN_LANDSCAPE)},s.prototype.setMode=function(e,t){var i;if(this.orientationMode==s.OrientationMode.ADMIN_PORTRAIT?i=s.DeviceOrientation.PORTRAIT:this.orientationMode==s.OrientationMode.ADMIN_LANDSCAPE&&(i=s.DeviceOrientation.LANDSCAPE),this==t){var n=this.parameters.sliderWidthToDevice[e+s._DeviceOrientation[i]];if("mobile"==e)switch(s._DeviceOrientation[i]){case"Portrait":n=Math.max(nextend.smallestZoom,320)}this.setSize(n)}},s.prototype.setSize=function(e){this.containerElement.width(e),this.doResize()},s.prototype.getVerticalOffsetHeight=function(){for(var e=0,t=0;t<this.verticalOffsetSelectors.length;t++)e+=this.verticalOffsetSelectors.eq(t).outerHeight();return e},s.prototype.addMargin=function(e,t){this.widgetMargins[e].push(t),t.isVisible()&&(this._addMarginSize(e,t.getSize()),this.enabledWidgetMargins.push(t)),this.doNormalizedResize()},s.prototype.addStaticMargin=function(e,t){"Bottom"!=e&&"Top"!=e&&(this.widgetStaticMargins||(this.widgetStaticMargins={Top:[],Right:[],Bottom:[],Left:[]}),this.widgetStaticMargins[e].push(t),this.doNormalizedResize())},s.prototype.refreshMargin=function(){for(var t in this.widgetMargins)for(var i=this.widgetMargins[t],s=i.length-1;s>=0;s--){var n=i[s];if(n.isVisible())-1==e.inArray(n,this.enabledWidgetMargins)&&(this._addMarginSize(t,n.getSize()),this.enabledWidgetMargins.push(n));else{var r=e.inArray(n,this.enabledWidgetMargins);-1!=r&&(this._addMarginSize(t,-n.getSize()),this.enabledWidgetMargins.splice(r,1))}}this.refreshStaticSizes()},s.prototype.refreshStaticSizes=function(){if(this.widgetStaticMargins){var e={paddingTop:0,paddingRight:0,paddingBottom:0,paddingLeft:0};for(var t in this.widgetStaticMargins)for(var i=this.widgetStaticMargins[t],s=i.length-1;s>=0;s--){var n=i[s];n.isVisible()&&(e["padding"+t]+=n.getSize())}for(var r in e)this.containerElementPadding.css(e);this.staticSizes=e}},s.prototype._addMarginSize=function(e,t){
var i=null;switch(e){case"Top":case"Bottom":i=this._sliderVertical;break;default:i=this._sliderHorizontal}i.data["margin"+e]+=t,this.responsiveDimensions["startSliderMargin"+e]+=t},s}),N2Require("SmartSliderResponsiveElement",[],[],function(e,t,i){function s(e){return e.charAt(0).toUpperCase()+e.slice(1)}function n(t,i,s,n,r){this._lastRatio=1,this.responsive=t,this.ratioName=i,this.element=s,this._readyDeferred=e.Deferred(),"undefined"!=typeof r?this.name=r:this.name=null,this.data={},this.helper={parent:null,parentProps:null,fontSize:!1,centered:!1},this._lateInit(n)}return n.prototype._lateInit=function(t){this._cssProperties=t,this.reloadDefault(),-1!=e.inArray("fontSize",t)&&(this.data.fontSize=this.element.data("fontsize"),this.helper.fontSize={fontSize:this.element.data("fontsize"),desktopPortrait:this.element.data("minfontsizedesktopportrait"),desktopLandscape:this.element.data("minfontsizedesktoplandscape"),tabletPortrait:this.element.data("minfontsizetabletportrait"),tabletLandscape:this.element.data("minfontsizetabletlandscape"),mobilePortrait:this.element.data("minfontsizemobileportrait"),mobileLandscape:this.element.data("minfontsizemobilelandscape")},this.responsive.sliderElement.on("SliderDeviceOrientation",e.proxy(this.onModeChange,this))),this.resize=this._resize,this._readyDeferred.resolve()},n.prototype.reloadDefault=function(){for(var e=0;e<this._cssProperties.length;e++){var t=this._cssProperties[e];this.data[t]=parseInt(this.element.css(t))}if(this.name){var i=this.responsive.responsiveDimensions;for(var n in this.data)i["start"+s(this.name)+s(n)]=this.data[n]}},n.prototype.ready=function(e){this._readyDeferred.done(e)},n.prototype.resize=function(t,i){this.ready(e.proxy(this.resize,this,t,i)),this._lastRatio=i},n.prototype._resize=function(e,t,i,s){this.name&&"undefined"==typeof e[this.name]&&(e[this.name]={});var n={};for(var r in this.data){var o=this.data[r]*t;"function"==typeof this[r+"Prepare"]&&(o=this[r+"Prepare"](o)),this.name&&(e[this.name][r]=o),n[r]=o}if(i)i.to(this.element,s,n,0);else if(this.element.css(n),this.helper.centered){var a=this.getVerticalMargin(parseInt((this.helper.parent.height()-this.element.height())/2)),l=this.getHorizontalMargin(parseInt((this.helper.parent.width()-this.element.width())/2));this.element.css({marginLeft:l,marginRight:l,marginTop:a,marginBottom:a})}this._lastRatio=t},n.prototype.getHorizontalMargin=function(e){return e},n.prototype.getVerticalMargin=function(e){return e},n.prototype._refreshResize=function(){this.responsive.ready.done(e.proxy(function(){this._resize(this.responsive.responsiveDimensions,this.responsive.lastRatios[this.ratioName])},this))},n.prototype.widthPrepare=function(e){return Math.round(e)},n.prototype.heightPrepare=function(e){return Math.round(e)},n.prototype.marginLeftPrepare=function(e){return parseInt(e)},n.prototype.marginRightPrepare=function(e){return parseInt(e)},n.prototype.lineHeightPrepare=function(e){return e+"px"},n.prototype.fontSizePrepare=function(e){var t=this.responsive.getNormalizedModeString();return e<this.helper.fontSize[t]?this.helper.fontSize[t]:e},n.prototype.setCentered=function(){this.helper.parent=this.element.parent(),this.helper.centered=!0},n.prototype.unsetCentered=function(){this.helper.centered=!1},n.prototype.onModeChange=function(){this.setFontSizeByMode()},n.prototype.setFontSizeByMode=function(){this.element.css("fontSize",this.fontSizePrepare(this.data.fontSize*this._lastRatio))},n}),N2Require("FrontendItemAudio",[],[],function(e,t,i){function s(t,i,s){return this.loadDeferred=e.Deferred(),this.slider=t,this.id=i,this.$node=e("#"+i),this.audio=this.$node.find("audio").get(0),this.audio?(this.$layer=this.$node.parent(),this.isStatic=this.$node.closest(".n2-ss-static-slide").length,this.slide=this.slider.findSlideByElement(this.$node),this.isPaused=!1,this.lastVolume=1,this.parameters=e.extend({autoplay:0,loop:0,reset:0,volume:1},s),e(this.audio).on({play:e.proxy(this.onPlay,this),pause:e.proxy(this.onPause,this),ended:e.proxy(this.onEnded,this),timeupdate:e.proxy(this.onTimeUpdate,this),volumechange:e.proxy(this.onVolumechange,this)}),void(this.audio.duration>=0?this.onReady():this.audio.addEventListener("loadedmetadata",e.proxy(this.onReady,this)))):void this.loadDeferred.reject()}return s.prototype.initAutoplay=function(){this.isStatic?this.audio.play():(this.slider.sliderElement.on("mainAnimationComplete",e.proxy(function(t,i,s,n,r){e.inArray(this.slide,this.slider.getVisibleSlides(this.slider.slides[n]))>=0&&this.audio.play()},this)),e.inArray(this.slide,this.slider.getVisibleSlides())>=0&&this.audio.play())},s.prototype.onReady=function(){this.$time=this.$node.find(".n2-ss-item-audio-time"),this.updateTime(),this.audio.volume=this.parameters.volume,this.$node.find(".n2-ss-item-audio-play").on("click",e.proxy(function(){this.audio.play()},this)),this.$node.find(".n2-ss-item-audio-pause").on("click",e.proxy(function(){this.audio.pause()},this)),this.$node.find(".n2-ss-item-audio-mute").on("click",e.proxy(function(){this.audio.volume=0},this)),this.$node.find(".n2-ss-item-audio-unmute").on("click",e.proxy(function(){this.audio.volume=this.lastVolume},this)),this.$progress=this.$node.find(".n2-ss-item-audio-progress-container").on("mousedown",e.proxy(function(t){t.preventDefault(),t.stopPropagation(),this.updateUITime(t),e("body").on({"mousemove.volume":e.proxy(function(e){e.preventDefault(),e.stopPropagation(),this.updateUITime(e)},this),"mouseup.volume":e.proxy(function(t){t.preventDefault(),t.stopPropagation(),this.updateUITime(t),e("body").off(".volume")},this),"mouseleave.volume":e.proxy(function(){e("body").off(".volume")},this)})},this)),this.$playhead=this.$progress.find(".n2-ss-item-audio-progress-playhead"),this.$volume=this.$node.find(".n2-ss-item-audio-volume-container").on("mousedown",e.proxy(function(t){t.preventDefault(),t.stopPropagation(),this.updateUIVolume(t),e("body").on({"mousemove.volume":e.proxy(function(e){e.preventDefault(),e.stopPropagation(),this.updateUIVolume(e)},this),"mouseup.volume":e.proxy(function(t){t.preventDefault(),t.stopPropagation(),this.updateUIVolume(t),e("body").off(".volume")},this),"mouseleave.volume":e.proxy(function(){e("body").off(".volume")},this)})},this)),this.$volumehead=this.$volume.find(".n2-ss-item-audio-volumehead"),1==this.parameters.autoplay&&this.slider.visible(e.proxy(this.initAutoplay,this)),this.isStatic||(this.slider.sliderElement.on("mainAnimationStart",e.proxy(function(e,t,i,s,n){s!=this.slideIndex&&this.audio.pause()},this)),parseInt(this.parameters.reset)&&this.slider.sliderElement.on("mainAnimationComplete",e.proxy(function(e,t,i,s,n){s!=this.slideIndex&&this.audio.currentTime>0&&(this.audio.currentTime=0)},this))),this.loadDeferred.resolve()},s.prototype.updateTime=function(){this.$time.html(this.timeFormat(this.audio.currentTime)+" / "+this.timeFormat(this.audio.duration))},s.prototype.onPlay=function(){this.isPaused=!1,this.$node.attr("data-state","playing"),requestAnimationFrame(e.proxy(this.refreshCurrentTime,this)),this.isStatic||this.slider.sliderElement.trigger("mediaStarted",this.id),this.$layer.triggerHandler("n2play")},s.prototype.onPause=function(){this.isPaused=!0,this.$node.attr("data-state","paused"),this.$layer.triggerHandler("n2pause")},s.prototype.onEnded=function(){1==this.parameters.loop?(this.audio.currentTime=0,this.audio.play()):(this.isStatic||this.slider.sliderElement.trigger("mediaEnded",this.id),this.$layer.triggerHandler("n2stop"))},s.prototype.onTimeUpdate=function(){this.updateTime(),this.$playhead.css("width",this.audio.currentTime/this.audio.duration*100+"%")},s.prototype.onVolumechange=function(){this.$volumehead.css("width",100*this.audio.volume+"%"),this.$node.attr("data-volume",this.audio.volume),0!=this.audio.volume&&(this.lastVolume=this.audio.volume)},s.prototype.refreshCurrentTime=function(){this.$playhead.css("width",this.audio.currentTime/this.audio.duration*100+"%"),this.isPaused||requestAnimationFrame(e.proxy(this.refreshCurrentTime,this))},s.prototype.updateUITime=function(e){this.audio.currentTime=this.audio.duration*Math.max(0,Math.min(.99,Math.round(e.pageX-this.$progress.offset().left)/this.$progress.width()))},s.prototype.updateUIVolume=function(e){this.audio.volume=Math.max(0,Math.min(1,Math.round(e.pageX-this.$volume.offset().left)/this.$volume.width()))},s.prototype.timeFormat=function(e){e=parseInt(e);var t=[],i=parseInt(e/60);e-=60*i;var s=parseInt(i/60);return i-=60*s,s>0&&t.push(this.pad(s,2,0)),t.push(this.pad(i,2,0)),t.push(this.pad(e,2,0)),t.join(":")},s.prototype.pad=function(e,t,i){return i=i||"0",e+="",e.length>=t?e:new Array(t-e.length+1).join(i)+e},s}),N2Require("FrontendItemCaption",[],[],function(e,t,i){function s(t,i,s,n,r){this.startCSS=null,this.slider=t,this.mode=s,this.direction=n,this.scale=r,this.node=e("#"+i).on("mouseenter",e.proxy(this["in"],this)).on("mouseleave",e.proxy(this.out,this)),this.image=this.node.find("img"),this.content=this.node.find(".n2-ss-item-caption-content"),this["init"+s]()}return s.prototype.initSimple=function(){var t={height:"auto"};switch(this.direction){case"left":t.bottom=0,t.left="-100%",this.startCSS={left:"-100%"};break;case"right":t.bottom=0,t.right="-100%",this.startCSS={right:"-100%"};break;default:t.left=0,this.resizeSimple(),this.slider.sliderElement.on("SliderResize",e.proxy(this.resizeSimple,this)),this._out=this._outSimple}this.content.css(t)},s.prototype.resizeSimple=function(){var e={};e[this.direction]=-this.content.height(),this.content.css(e)},s.prototype._outSimple=function(){var e={};e[this.direction]=-this.content.height(),this.tweenContent(e)},s.prototype.initFull=function(){var e={};switch(this.direction){case"left":e.bottom=0,e.left="-100%",this.startCSS={left:"-100%"};break;case"right":e.bottom=0,e.right="-100%",this.startCSS={right:"-100%"};break;case"top":e.left=0,e.top="-100%",this.startCSS={top:"-100%"};break;case"bottom":e.left=0,e.bottom="-100%",this.startCSS={bottom:"-100%"}}this.content.css(e)},s.prototype.initFade=function(){this.content.css({opacity:0,left:0,top:0}),this._in=this._inFade,this._out=this._outFade},s.prototype._inFade=function(){this.tweenContent({opacity:1})},s.prototype._outFade=function(){this.tweenContent({opacity:0})},s.prototype["in"]=function(){this._in(),this.scale&&this.tweenImage({scale:1.2})},s.prototype._in=function(){var e={};e[this.direction]=0,this.tweenContent(e)},s.prototype.out=function(){this._out(),this.scale&&this.tweenImage({scale:1})},s.prototype._out=function(){this.tweenContent(this.startCSS)},s.prototype.tweenContent=function(e){NextendTween.to(this.content,.5,e)},s.prototype.tweenImage=function(e){NextendTween.to(this.image,.5,e)},s}),N2Require("FrontendItemCounter",[],[],function(e,t,i){function s(t,i,s){this.slider=t,this.id=i,this.data=s,this.node=e("#"+i),this.data.displayMode&&(this.$display=this.node.find(s.display)),this.$countingDiv=this.node.find(s.counting),this.layer=this.node.closest(".n2-ss-layer").on("needExtendTimelineIn."+i,e.proxy(this.needExtendTimelineIn,this)).on("layerExtendTimelineIn."+i,e.proxy(this.extendTimelineIn,this))}return s.prototype.needExtendTimelineIn=function(){return!0},s.prototype.extendTimelineIn=function(t,i,s){var n={percent:this.data.fromPercent};i.to(n,this.data.duration/1e3,{percent:this.data.toPercent,ease:"easeOutExpo",onUpdate:e.proxy(function(){switch(this.data.displayMode){case"circle":this.$display.attr("stroke-dashoffset",(1-n.percent)*this.data.c);break;case"width":this.$display.css("width",100*n.percent+"%")}this.$countingDiv.html(this.data.pre+(this.data.min+n.percent*(this.data.total-this.data.min)).toFixed(0)+this.data.post)},this)},s+this.data.delay/1e3)},s}),N2Require("FrontendItemHeadingSplitText",[],[],function(e,t,i){function s(t,i,s,n,r,o,a,l){if(r||a){this.id=i,this.node=e("#"+i),this.slider=t;var h=this.node.find("a");h.length&&(this.node=h);var d={chars:0,words:0,lines:0};r?(this.splitTextIn=this.optimize(r.data,o),d[this.splitTextIn.mode]=1):this.splitTextIn=!1,a?(this.splitTextOut=this.optimize(a.data,l),d[this.splitTextOut.mode]=1):this.splitTextOut=!1;var p=[];for(var u in d)d[u]&&p.push(u);d.chars&&!d.words&&p.push("words"),this.splitText=new NextendSplitText(this.node,{type:p.join(",")}),this.layer=this.node.closest(".n2-ss-layer").on("needExtendTimelineIn."+i,e.proxy(this.needExtendTimelineIn,this)).on("layerExtendTimelineIn."+i,e.proxy(this.extendTimelineIn,this)).on("needExtendTimelineOut."+i,e.proxy(this.needExtendTimelineOut,this)).on("layerExtendTimelineOut."+i,e.proxy(this.extendTimelineOut,this)),"words,chars"==d&&(d="chars"),NextendTween.set(this.layer,{perspective:1e3});for(var u in d)d[u]&&NextendTween.set(this.splitText[u],{transformOrigin:s,backfaceVisibility:n});this.node.css("text-rendering","auto")}}var n={opacity:1,x:0,y:0,rotationX:0,rotationY:0,rotationZ:0,scale:1};return s.prototype.needExtendTimelineIn=function(){return!!this.splitTextIn},s.prototype.extendTimelineIn=function(t,i,s){if(this.splitTextIn){var r=this.splitTextIn;this._animate(i,"staggerFromTo",r.mode,r.sort,r.duration,e.extend(!0,{},r.from),e.extend(!0,{ease:r.ease},n),r.stagger,s+r.delay)}},s.prototype.needExtendTimelineOut=function(){return!!this.splitTextOut},s.prototype.extendTimelineOut=function(t,i,s){if(this.splitTextOut){var r=this.splitTextOut;this._animate(i,"staggerFromTo",r.mode,r.sort,r.duration,e.extend(!0,{},n),e.extend(!0,{ease:r.ease},r.from),-r.stagger,s+r.delay)}},s.prototype._animate=function(t,i,s,n,r,o,a,l,h){var d=e.extend([],this.splitText[s]),p=null;switch(n){case"reversed":d.reverse();break;case"random":var u=function(e,t,i,s){for(i=e.length;i;)t=Math.random()*i--|0,s=e[i],e[i]=e[t],e[t]=s};u(d);break;case"side":case"center":var c=[];for(p=[];d.length>1;)c.push(d.shift()),p.push(d.pop());1==d.length&&c.push(d.shift()),d=c,"center"==n&&(d.reverse(),p.reverse());break;case"sideShifted":case"centerShifted":for(var c=[];d.length>1;)c.push(d.shift()),c.push(d.pop());1==d.length&&c.push(d.shift()),d=c,"centerShifted"==n&&d.reverse()}t[i](d,r,o,a,l,h),p&&p.length&&t[i](p,r,o,a,l,h)},s.prototype.optimize=function(e,t){var i={mode:e.mode,sort:e.sort,duration:e.duration,stagger:e.stagger,delay:t,from:{},ease:e.ease};return 1!=e.opacity&&(i.from.opacity=e.opacity),1!=e.scale&&(i.from.scale=e.scale),0!=e.x&&(i.from.x=e.x),0!=e.y&&(i.from.y=e.y),0!=e.rotationX&&(i.from.rotationX=e.rotationX),0!=e.rotationY&&(i.from.rotationY=e.rotationY),0!=e.rotationZ&&(i.from.rotationZ=e.rotationZ),i},s}),N2Require("FrontendItemTransition",[],[],function(e,t,i){function s(t,i,s){this.slider=t,n2const.isIE&&(s="Fade"),this.animation=s,this.node=e("#"+i).on("mouseenter",e.proxy(this["in"+s],this)).on("mouseleave",e.proxy(this["out"+s],this)),this.images=this.node.find("img"),this.inner=this.node.find(".n2-ss-item-transition-inner"),this["init"+s]()}return s.prototype.initFade=function(){this.images.eq(1).css("opacity",0)},s.prototype.inFade=function(){NextendTween.to(this.images.eq(1),.5,{opacity:1}),NextendTween.to(this.images.eq(0),.5,{opacity:0})},s.prototype.outFade=function(){NextendTween.to(this.images.eq(1),.5,{opacity:0}),NextendTween.to(this.images.eq(0),.5,{opacity:1})},s.prototype.initVerticalFlip=function(){NextendTween.set(this.inner,{perspective:1e3}),NextendTween.set(this.images.eq(0),{rotationX:0,backfaceVisibility:"hidden"}),NextendTween.set(this.images.eq(1),{rotationX:180,backfaceVisibility:"hidden"})},s.prototype.inVerticalFlip=function(){NextendTween.to(this.images.eq(0),.5,{rotationX:-180,backfaceVisibility:"hidden"}),NextendTween.to(this.images.eq(1),.5,{rotationX:0,backfaceVisibility:"hidden"})},s.prototype.outVerticalFlip=function(){NextendTween.to(this.images.eq(0),.5,{rotationX:0,backfaceVisibility:"hidden"}),NextendTween.to(this.images.eq(1),.5,{rotationX:180,backfaceVisibility:"hidden"})},s.prototype.initHorizontalFlip=function(){NextendTween.set(this.inner,{perspective:1e3}),NextendTween.set(this.images.eq(0),{rotationY:0,backfaceVisibility:"hidden"}),NextendTween.set(this.images.eq(1),{rotationY:180,backfaceVisibility:"hidden"})},s.prototype.inHorizontalFlip=function(){NextendTween.to(this.images.eq(0),.5,{rotationY:-180,backfaceVisibility:"hidden"}),NextendTween.to(this.images.eq(1),.5,{rotationY:0,backfaceVisibility:"hidden"})},s.prototype.outHorizontalFlip=function(){NextendTween.to(this.images.eq(0),.5,{rotationY:0,backfaceVisibility:"hidden"}),NextendTween.to(this.images.eq(1),.5,{rotationY:180,backfaceVisibility:"hidden"})},s}),N2Require("FrontendItemVideo",[],[],function(e,t,i){function s(t,i,s){this.slider=t,this.playerId=i,this.playerElement=e("#"+this.playerId),this.videoPlayer=this.playerElement.get(0),this.parameters=e.extend({autoplay:0,loop:0,center:0,reset:0},s),this.slide=t.findSlideByElement(this.videoPlayer),this.videoPlayer.videoWidth>0?this.initVideoPlayer():this.videoPlayer.addEventListener("loadedmetadata",e.proxy(this.initVideoPlayer,this)),this.playerElement.prop("volume",this.playerElement.data("volume"))}return s.prototype.initVideoPlayer=function(){1==this.parameters.center&&(this.onResize(),this.slider.sliderElement.on("SliderResize",e.proxy(this.onResize,this)));var t=this.playerElement.parent();this.isStatic=t.closest(".n2-ss-static-slide").length,this.playerElement.on("playing",e.proxy(function(){this.isStatic||this.slider.sliderElement.trigger("mediaStarted",this.playerId),t.triggerHandler("n2play")},this)).on("ended",e.proxy(function(){1==this.parameters.loop?(this.videoPlayer.currentTime=0,this.videoPlayer.play()):(this.isStatic||this.slider.sliderElement.trigger("mediaEnded",this.playerId),t.triggerHandler("n2stop"))},this)),this.playerElement.on("pause",function(){t.triggerHandler("n2pause")}),1==this.parameters.autoplay&&this.initAutoplay(),this.isStatic||(this.slider.sliderElement.on("mainAnimationStart",e.proxy(function(t,i,s,n,r){-1==e.inArray(this.slide,this.slider.getVisibleSlides(this.slider.slides[n]))&&this.pause()},this)),parseInt(this.parameters.reset)&&this.slider.sliderElement.on("mainAnimationComplete",e.proxy(function(t,i,s,n,r){this.videoPlayer.currentTime>0&&-1==e.inArray(this.slide,this.slider.getVisibleSlides(this.slider.slides[n]))&&(this.videoPlayer.currentTime=0)},this)))},s.prototype.onResize=function(){var e=this.playerElement.parent(),t=e.width(),i=e.height(),s=this.videoPlayer.videoWidth/this.videoPlayer.videoHeight,n={width:t,height:i,marginTop:0};n[nextend.rtl.marginLeft]=0,t/i>s?(n.height=t*s,n.marginTop=(i-n.height)/2):(n.width=i*s,n[nextend.rtl.marginLeft]=(t-n.width)/2),this.playerElement.css(n)},s.prototype.initAutoplay=function(){this.isStatic?this.play():(this.slider.sliderElement.on("mainAnimationComplete",e.proxy(function(t,i,s,n,r){e.inArray(this.slide,this.slider.getVisibleSlides(this.slider.slides[n]))>=0&&this.play()},this)),e.inArray(this.slide,this.slider.getVisibleSlides())>=0&&this.play())},s.prototype.play=function(){this.isStopped()&&(this.slider.sliderElement.trigger("mediaStarted",this.playerId),this.videoPlayer.play())},s.prototype.pause=function(){this.isStopped()||this.videoPlayer.pause()},s.prototype.isStopped=function(){return this.videoPlayer.paused},s}),N2Require("FrontendItemVimeo",[],[],function(e,t,i){function s(t,i,s,n,r,o){this.readyDeferred=e.Deferred(),this.slider=t,this.playerId=i,this.start=o,this.parameters=e.extend({vimeourl:"//vimeo.com/144598279",center:0,autoplay:"0",reset:"0",title:"1",byline:"1",portrait:"0",loop:"0",color:"00adef",volume:"-1"},n),navigator.userAgent.toLowerCase().indexOf("android")>-1&&(this.parameters.autoplay=0),1==this.parameters.autoplay||!r||n2const.isMobile?this.ready(e.proxy(this.initVimeoPlayer,this)):e("#"+this.playerId).on("click.vimeo n2click.vimeo",e.proxy(function(t){e(t.currentTarget).off(".vimeo"),t.preventDefault(),t.stopPropagation(),this.ready(e.proxy(function(){this.readyDeferred.done(e.proxy(function(){this.play()},this)),this.initVimeoPlayer()},this))},this))}return s.vimeoDeferred=null,s.prototype.ready=function(t){null===s.vimeoDeferred&&(s.vimeoDeferred=e.getScript("https://player.vimeo.com/api/player.js")),s.vimeoDeferred.done(t)},s.prototype.initVimeoPlayer=function(){var t=n2('<iframe id="'+this.playerId+'_video" src="https://player.vimeo.com/video/'+this.parameters.vimeocode+"?autoplay=0&_video&title="+this.parameters.title+"&byline="+this.parameters.byline+"&background="+this.parameters.background+"&portrait="+this.parameters.portrait+"&color="+this.parameters.color+"&loop="+this.parameters.loop+("-1"==this.parameters.quality?"":"&quality="+this.parameters.quality)+'" style="position: absolute; top:0; left: 0; width: 100%; height: 100%;" frameborder="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>');e("#"+this.playerId).append(t),this.isStatic=t.closest(".n2-ss-static-slide").length,this.playerElement=t,this.player=new Vimeo.Player(t[0]),this.player.ready().then(e.proxy(this.onReady,this))},s.prototype.onReady=function(){var t=parseFloat(this.parameters.volume);t>=0&&this.setVolume(t),this.slide=this.slider.findSlideByElement(this.playerElement),1==this.parameters.center&&(this.onResize(),this.slider.sliderElement.on("SliderResize",e.proxy(this.onResize,this)));var i=this.playerElement.parent().parent();this.player.on("play",e.proxy(function(){this.isStatic||this.slider.sliderElement.trigger("mediaStarted",this.playerId),i.triggerHandler("n2play")},this)),this.player.on("pause",e.proxy(function(){i.triggerHandler("n2pause")})),this.player.on("ended",e.proxy(function(){this.isStatic||this.slider.sliderElement.trigger("mediaEnded",this.playerId),i.triggerHandler("n2stop")},this)),this.isStatic||this.slider.sliderElement.on("mainAnimationStart",e.proxy(function(t,i,s,n,r){-1==e.inArray(this.slide,this.slider.getVisibleSlides(this.slider.slides[n]))&&(parseInt(this.parameters.reset)?this.reset():this.pause())},this)),1==this.parameters.autoplay&&this.slider.visible(e.proxy(this.initAutoplay,this)),this.readyDeferred.resolve()},s.prototype.onResize=function(){var e=52,t=this.playerElement.parent(),i=t.width()+e,s=t.height()+e,n=16/9,r={width:i,height:s,marginTop:0};r[nextend.rtl.marginLeft]=0,i/s>n?(r.height=i*n,r.marginTop=(s-r.height)/2):(r.width=s*n,r[nextend.rtl.marginLeft]=(i-r.width)/2),this.playerElement.css(r)},s.prototype.initAutoplay=function(){this.isStatic?this.play():(this.slider.sliderElement.on("mainAnimationComplete",e.proxy(function(t,i,s,n,r){e.inArray(this.slide,this.slider.getVisibleSlides(this.slider.slides[n]))>=0&&this.play()},this)),e.inArray(this.slide,this.slider.getVisibleSlides())>=0&&this.play())},s.prototype.play=function(){this.slider.sliderElement.trigger("mediaStarted",this.playerId),0!=this.start&&this.player.setCurrentTime(this.start),this.player.play(),this.player.getCurrentTime().then(e.proxy(function(e){e<this.start&&0!=this.start&&this.player.setCurrentTime(this.start),this.player.play()},this))["catch"](e.proxy(function(e){this.player.play()},this))},s.prototype.pause=function(){this.player.pause()},s.prototype.reset=function(){this.player.setCurrentTime(this.start)},s.prototype.setVolume=function(e){this.player.setVolume(e)},s}),N2Require("FrontendItemYouTube",[],[],function(e,t,i){function s(t,i,s,n){this.readyDeferred=e.Deferred(),this.slider=t,this.playerId=i,this.parameters=e.extend({youtubeurl:"//www.youtube.com/watch?v=MKmIwHAFjSU",youtubecode:"MKmIwHAFjSU",center:0,autoplay:"1",theme:"dark",related:"1",vq:"default",volume:"-1",loop:0,showinfo:1,modestbranding:1,reset:0,query:[]},s),(navigator.userAgent.toLowerCase().indexOf("android")>-1||n2const.isIOS)&&(this.parameters.autoplay=0),1==this.parameters.autoplay||!n||n2const.isMobile?this.ready(e.proxy(this.initYoutubePlayer,this)):e("#"+this.playerId).on("click.youtube n2click.youtube",e.proxy(function(t){e(t.currentTarget).off(".youtube"),t.preventDefault(),t.stopPropagation(),this.ready(e.proxy(function(){this.readyDeferred.done(e.proxy(function(){this.play()},this)),this.initYoutubePlayer()},this))},this))}return s.YTDeferred=null,s.prototype.ready=function(t){if(null===s.YTDeferred)if(s.YTDeferred=e.Deferred(),"undefined"==typeof YT){var i=function(){};"function"==typeof window.onYouTubeIframeAPIReady&&(i=window.onYouTubeIframeAPIReady),window.onYouTubeIframeAPIReady=function(){s.YTDeferred.resolve(),i()},e.getScript("https://www.youtube.com/iframe_api")}else if(YT.loaded)s.YTDeferred.resolve();else var n=setInterval(function(){YT.loaded&&(s.YTDeferred.resolve(),clearInterval(n))},200);s.YTDeferred.done(t)},s.prototype.initYoutubePlayer=function(){var t=e("#"+this.playerId),i=t.closest(".n2-ss-layer");this.isStatic=t.closest(".n2-ss-static-slide").length;var s={enablejsapi:1,origin:window.location.protocol+"//"+window.location.host,theme:this.parameters.theme,wmode:"opaque",rel:this.parameters.related,vq:this.parameters.vq,start:this.parameters.start,showinfo:this.parameters.start.showinfo,modestbranding:this.parameters.start.modestbranding};1==this.parameters.center&&(s.controls=0,s.showinfo=0),1!=this.parameters.controls&&(s.autohide=1,s.controls=0,s.showinfo=0),+(navigator.platform.toUpperCase().indexOf("MAC")>=0&&navigator.userAgent.search("Firefox")>-1)&&(s.html5=1);for(var n in this.parameters.query)this.parameters.query.hasOwnProperty(n)&&(s[n]=this.parameters.query[n]);this.player=new YT.Player(this.playerId,{videoId:this.parameters.youtubecode,wmode:"opaque",playerVars:s,events:{onReady:e.proxy(this.onReady,this),onStateChange:e.proxy(function(e){switch(e.data){case YT.PlayerState.PLAYING:this.isStatic||this.slider.sliderElement.trigger("mediaStarted",this.playerId),i.triggerHandler("n2play");break;case YT.PlayerState.PAUSED:i.triggerHandler("n2pause");break;case YT.PlayerState.ENDED:1==this.parameters.loop?(this.player.seekTo(0),this.player.playVideo()):(this.isStatic||this.slider.sliderElement.trigger("mediaEnded",this.playerId),i.triggerHandler("n2stop"))}},this)}}),this.playerElement=e("#"+this.playerId),this.slide=this.slider.findSlideByElement(this.playerElement),1==this.parameters.center&&(this.playerElement.parent().css("overflow","hidden"),this.onResize(),this.slider.sliderElement.on("SliderResize",e.proxy(this.onResize,this)))},s.prototype.onReady=function(){var t=parseFloat(this.parameters.volume);t>=0&&this.setVolume(t),1==this.parameters.autoplay&&this.slider.visible(e.proxy(this.initAutoplay,this)),this.isStatic||(this.slider.sliderElement.on("mainAnimationStart",e.proxy(function(t,i,s,n){-1==e.inArray(this.slide,this.slider.getVisibleSlides(this.slider.slides[n]))&&this.pause()},this)),parseInt(this.parameters.reset)&&this.slider.sliderElement.on("mainAnimationComplete",e.proxy(function(t,i,s,n){-1==e.inArray(this.slide,this.slider.getVisibleSlides(this.slider.slides[n]))&&this.player.seekTo(0)},this))),this.readyDeferred.resolve()},s.prototype.onResize=function(){var e=100,t=this.playerElement.parent(),i=t.width(),s=t.height()+e,n=16/9,r={width:i,height:s,marginTop:0};r[nextend.rtl.marginLeft]=0,i/s>n?(r.height=i*n,r.marginTop=(s-r.height)/2):(r.width=s*n,r[nextend.rtl.marginLeft]=(i-r.width)/2),this.playerElement.css(r)},s.prototype.initAutoplay=function(){this.isStatic?this.play():(this.slider.sliderElement.on("mainAnimationComplete",e.proxy(function(t,i,s,n){e.inArray(this.slide,this.slider.getVisibleSlides(this.slider.slides[n]))>=0&&this.play()},this)),e.inArray(this.slide,this.slider.getVisibleSlides())>=0&&this.play())},s.prototype.play=function(){this.isStopped()&&(this.slider.sliderElement.trigger("mediaStarted",this.playerId),this.player.playVideo())},s.prototype.pause=function(){this.isStopped()||this.player.pauseVideo()},s.prototype.stop=function(){this.player.stopVideo()},s.prototype.isStopped=function(){var e=this.player.getPlayerState();switch(e){case-1:case 0:case 2:case 5:return!0;default:return!1}},s.prototype.setVolume=function(e){this.player.setVolume(100*e)},s});